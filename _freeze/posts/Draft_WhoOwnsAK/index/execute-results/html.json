{
  "hash": "a93ccbd5493f89c6e4e41f1c57d01e04",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Who owns Alaska?\nsubtitle: How to use plotly to make interactive maps\ndescription: (mostly the federal government)\ndate: today\ncategories: [Spatial Data Analysis, Workflow]\ndate-modified: last-modified\ndraft: true\n---\n\n\n\nI'm using data from the Alaska Department of Natural Resources on land ownership\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(plotly)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: ggplot2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'plotly'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:stats':\n\n    filter\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:graphics':\n\n    layout\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(terra)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nterra 1.7.78\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ tidyr::extract() masks terra::extract()\n✖ dplyr::filter()  masks plotly::filter(), stats::filter()\n✖ dplyr::lag()     masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(tidyterra)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'tidyterra'\n\nThe following object is masked from 'package:stats':\n\n    filter\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nland = vect(\"/Volumes/FF_Lab/project_data/na_boreal/gis/land ownership/\")\n\n\nhead(land)\nterra::nrow(land)\n\nggplot() +\n  geom_spatvector(data = land, aes(fill = MLGNDRF,\n                                   col = MLGNDRF)) +\n  theme_minimal()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nland2 = land %>%\n  mutate(Status = ifelse(MLGNDRF == \"Major Military\",\n                         \"Military\",\n                         ifelse(MLGNDRF)) %>%\n  mutate(Ownership = ifelse())\n  select(Status, Shape_Leng, Shape_Area)\n\nland2 = terra::aggregate(land, by = \"AGENCY_NAM\")\nterra::nrow(land2)\n\nggplot() +\n  geom_spatvector(data = land2, aes(fill = AGENCY_NAM)) +\n  theme_minimal()\n```\n:::\n\n\n\nI can aggregate amongst parcels,\n\n# More Resources\n\n## Session Info\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.4.2 (2024-10-31)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sonoma 14.0\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: America/Chicago\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] tidyterra_0.6.1 lubridate_1.9.3 forcats_1.0.0   stringr_1.5.1  \n [5] dplyr_1.1.4     purrr_1.0.2     readr_2.1.5     tidyr_1.3.1    \n [9] tibble_3.2.1    tidyverse_2.0.0 terra_1.7-78    plotly_4.10.4  \n[13] ggplot2_3.5.1  \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.5      jsonlite_1.8.9    compiler_4.4.2    tidyselect_1.2.1 \n [5] Rcpp_1.0.13       scales_1.3.0      yaml_2.3.10       fastmap_1.2.0    \n [9] R6_2.5.1          generics_0.1.3    knitr_1.48        htmlwidgets_1.6.4\n[13] munsell_0.5.1     tzdb_0.4.0        pillar_1.10.0     rlang_1.1.4      \n[17] stringi_1.8.4     xfun_0.47         lazyeval_0.2.2    timechange_0.3.0 \n[21] viridisLite_0.4.2 cli_3.6.3         withr_3.0.2       magrittr_2.0.3   \n[25] digest_0.6.37     grid_4.4.2        rstudioapi_0.16.0 hms_1.1.3        \n[29] lifecycle_1.0.4   vctrs_0.6.5       evaluate_1.0.0    glue_1.8.0       \n[33] data.table_1.16.0 codetools_0.2-20  colorspace_2.1-1  rmarkdown_2.28   \n[37] httr_1.4.7        tools_4.4.2       pkgconfig_2.0.3   htmltools_0.5.8.1\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}