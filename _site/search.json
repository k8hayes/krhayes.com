[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "Benchmarking Reburning in iLand\n\n\nPart One in a Series on iLand benchmarking\n\n\n\n\nSpatial Data Analysis\n\n\niLand\n\n\nBenchmarking\n\n\n\n\nUsing terra to quantify overlaps in fire perimeter rasters\n\n\n\n\n\n\nMay 28, 2024\n\n\n\n\n\n\n  \n\n\n\n\nResearch Workflow\n\n\nHow I structure my notes and citations\n\n\n\n\nWorkflow\n\n\n\n\nNotes on notes\n\n\n\n\n\n\nApr 15, 2024\n\n\n\n\n\n\n  \n\n\n\n\nHow I built my site\n\n\nMigrating from blogdown to Quarto\n\n\n\n\nWorkflow\n\n\n\n\nBreaking the fourth wall\n\n\n\n\n\n\nApr 15, 2024\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Katherine Hayes",
    "section": "",
    "text": "I’m a landscape and ecosystem ecologist and currently an NSF Postdoctoral Scientist at the Cary Institute of Ecosystem Studies. I work in the intersection of paleoecology, landscape and disturbance ecology, studying how ecosystems change over time and space.\nI’m interested in how changing disturbance regimes alter ecosystems and how we can make science more open and accessible.\n\n\nPh.D in Integrated & Systems Biology University of Colorado Denver | Denver, CO\nM.S. in Geography University of Oregon | Eugene, OR\nB.S. in Geography, Spanish and Environmental Studies University of Wisconsin Madison | Madison, WI"
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Katherine Hayes",
    "section": "",
    "text": "Ph.D in Integrated & Systems Biology University of Colorado Denver | Denver, CO\nM.S. in Geography University of Oregon | Eugene, OR\nB.S. in Geography, Spanish and Environmental Studies University of Wisconsin Madison | Madison, WI"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Me",
    "section": "",
    "text": "I’m an ecosystem ecologist and currently a NSF Postdoctoral Fellow in the Forest Futures Lab at the Cary Institute of Ecosystem Studies. I work in the intersection of paleoecology, landscape ecology and disturbance ecology, using field, lab, and modeling tools to study how ecosystems change over space and time.\n\n\n\n\n\nComic by the lovely and incomparable Sophie Lucido Johnson and Sammi Skolmoski\n\n\nMy interest in fire sparked from working on charcoal records in a paleoecology lab as an undergraduate at the University of Wisconsin Madison. Prior to my Ph.D., I reconstructed long-term patterns of fire in coast redwood forests as part of my master’s research at the University of Oregon. My doctoral research at the University of Colorado Denver explored how increasing fires in Alaska changes forest communities, forest carbon storage and future patterns of fire. As a postdoctoral fellow, I’m trying to understand how fire might interact with moose, snowshoe hare, and other agents of change.\nOutside of research, I collect records and houseplants and I grew up in the Midwest so I have strong opinions about cheese and the packers.\nMy teaching philosophy is here, and my CV is here."
  },
  {
    "objectID": "posts/Research-Workflow/index.html",
    "href": "posts/Research-Workflow/index.html",
    "title": "Research Workflow",
    "section": "",
    "text": "I’ve played around with many different research workflows over the years - physical notebooks, notes stored in infinite word documents, color-coded index cards when I was a brand new undergraduate writing my first research paper. I’ve gone back and forth since then about whether following a system is a really important tool or whether it’s a particularly creative procrastination technique. I’d like to think I’ve found a middle ground. My current system is automated as much as possible to cut down on the busy work of maintaining the workflow itself."
  },
  {
    "objectID": "posts/Research-Workflow/index.html#saving-filing-and-reading-articles",
    "href": "posts/Research-Workflow/index.html#saving-filing-and-reading-articles",
    "title": "Research Workflow",
    "section": "Saving, filing and reading articles",
    "text": "Saving, filing and reading articles\nI import articles into zotero using the chrome extension, organize it roughly in a folder, and read it in PDF form within zotero on a tablet (which, now thanks to Zotero 6, syncs and saves highlights and annotations across devices).\nFrom there, the Citations plug-in allows me to link my Obsidian notes to the zotero entry using citekeys generated by betterbibtex."
  },
  {
    "objectID": "posts/Research-Workflow/index.html#some-examples-of-similar-workflows",
    "href": "posts/Research-Workflow/index.html#some-examples-of-similar-workflows",
    "title": "Research Workflow",
    "section": "Some examples of similar workflows:",
    "text": "Some examples of similar workflows:\n\nhttps://martinezponciano.es/2021/04/05/research-workflow-as-a-phd-student-in-the-humanities/\nhttps://wippp.com/blog/taekman-zettelkasten-workflow-2023-using-devonthink-drafts-and-obsidian\nhttps://thesiswhisperer.com/2023/02/01/building-a-second-brain-for-writing-with-obsidian/"
  },
  {
    "objectID": "posts/Research-Workflow/index.html#a-full-list-of-tools",
    "href": "posts/Research-Workflow/index.html#a-full-list-of-tools",
    "title": "Research Workflow",
    "section": "A full list of tools",
    "text": "A full list of tools\n\nObsidian\nObsidian Citation plug in\nbetterbibtex - creates citekeys that link zotero items to obsidian notes\nZotero\nZotero Chrome Extension - saves articles to zotero libraries within Chrome"
  },
  {
    "objectID": "posts/WebsiteBuild/index.html",
    "href": "posts/WebsiteBuild/index.html",
    "title": "How I built my site",
    "section": "",
    "text": "There’s tons of resources out there for how to built a personal website as an academic, made by folks with actual expertise in web design, coding, etc.\nI’d wanted to start my own blog / digital garden for years. Initially, the roadblock was imposter syndrome - did I actually have anything to write about? Would it be useful to anyone? isn’t it all a bit cringe?1\nOnce those worries were shouted down overcome, the main roadblock became technical know-how. I originally developed my website using a bundle of tools including blogdown, github, netlify all centered around the very popular academic theme from hugo. I’ve had it for years now, but it was heavy-lifting - building it took what felt like a week of work back in 2020, and I couldn’t update easily without having to relearn the folder structure rules each time.\nOriginally, I wanted to tweak the theme, add some blog pages and be done with it, but writeups like this from Maelle Salmon discussing hugo theme maintenance and this one from Arielle on Quarto made me wonder if there was a better way.\nThe straw that broke the camel’s back was vanity the Tufte theme that’s possible in Quarto - per the requirements of receiving a degree in geography, my copy of Visual Display of Quantitative Information lives on my coffee table. Adding Tufte’s beautiful sidenotes and column spacing is as easy as adding a line or two of yaml in Quarto and opens up a whole new world of snarky asides2."
  },
  {
    "objectID": "posts/WebsiteBuild/index.html#switching-from-blogdown-to-quarto",
    "href": "posts/WebsiteBuild/index.html#switching-from-blogdown-to-quarto",
    "title": "How I built my site",
    "section": "Switching from blogdown to quarto",
    "text": "Switching from blogdown to quarto\n\nInitiating a quarto website\nInitiating a Quarto website is shockingly easy. Working from Rstudio, you simply open a New Project, select Quarto Website, name it something new and click Render to preview.\nYour Rstudio will look like this:\n\n\n\na brand new quarto website\n\n\nAnd your render will look like this:\n\n\n\noff to the races\n\n\nThat’s it. 4 steps, and you’re previewing a website with a landing page, a menu bar and two pages. Now, your render won’t be hosted anywhere but locally, but already that’s a much more easy entry than the one I remember from Hugo.\n\n\nTo add a blog:\nTo add a blog6, or any pages that will live under a different landing page than the home page, add the following steps:\n6 You can also create a “Quarto Blog” instead of “Quarto Website” by going to New Project - I just wanted to figure out how to do it by hand so I knew how to initiate other website pages down the line\nCreate a landing page\n\nInitiate a quarto file for your landing page and call it something like blog.qmd\nWithin blog.qmd, add the following lines to the yaml code at the top:\n\nlisting:\n  contents: posts\n  sort: \"date desc\"\n  type: default\n  categories: true\n  sort-ui: false\n  filter-ui: false\nNow, you’ll need to add it to your site navigation:\n\nNavigate to your _quarto.yml file which should have been created when you initiated the New Website process above\nYou should see yml code - mine looks like the following:\n\nproject:\n  type: website\n\nwebsite:\n  title: \"Katherine Hayes\"\n  navbar:\n    right:\n      - text: \"About Me\"\n        file: about.qmd\n    \nformat:\n  html:\n    theme: cosmo\n    css: styles.css\n    toc: false\n\neditor: visual\n\nUnder navbar, add lines that specify text and file similar to the example above (so, probably text: “Blog” and file: blog.qmd)\nCreate a folder called posts - your posts will live here, within individual folders\n\n\n\nWriting a blog post\n\n\nHow to make a Series\n\n\n\nSwitching netlify hosts\nMy old website was already hosted on Netlify, and I wanted to hold on to the same domain.\nInitially, I started my Quarto website in a folder adjacent to the folder containing my existing website. When it came time to migrate, I copied my old website folders into an archive, and then replaced them with the new quarto folders (keeping the same Rproj file). Then I held my breath and pushed changes.\nAfter that, I needed to mollify Netlify - I disconnected"
  },
  {
    "objectID": "research.html",
    "href": "research.html",
    "title": "Research",
    "section": "",
    "text": "As a forest and ecosystem ecologist, I work in the intersection of paleoecology, landscape ecology and disturbance ecology, using field, lab, and modeling tools. My research is driven by three underlying questions:\n\nHow do changing disturbance regimes alter forest structure and function?\nHow can historical and paleoecologic data be integrated with modeling to anticipate future change?\nWhat are the implications of human interventions in changing disturbance regimes?\n\nTo answer those questions, I work across a variety of systems, timescales and disciplines.\n\nHow do changing disturbance regimes alter forest structure and function?\nBoreal forest fire frequency has increased in recent decades, causing fire return intervals in some regions to decline from 75-300 years to 30 years or less. Untangling the impact of shorter fire return intervals in boreal forests is critical for anticipating implications for global carbon cycling: shorter intervals between fires disadvantage slower-growing serotinous conifer species but those same conifers produce thick soil organic layers that insulate carbon-rich permafrost. During my PhD, I investigated how short-interval fires altered forest composition, forest carbon and forest structure in boreal Interior Alaska. I quantified forest regeneration in stands that burned once, twice, or three times within 30 years or less, the first empirical study of boreal forests that have experienced three short-interval fires. I demonstrated that reburns drive shifts in forest composition from conifer to deciduous, even in previously-resilient forest types (Hayes and Buma 2021) and showed that reburning leads to losses in soil carbon that offset gains made from faster-growing deciduous species (Hayes et al., in revision at Global Change Biology).\nWhile studying carbon in boreal forests, I started to wonder about the effects of heavy browsing by moose and hare, and the extreme mortality caused by pests and pathogens like aspen leaf miner and canker. I was awarded an NSF Postdoctoral Fellowship to investigate how emerging biotic disturbances like herbivores and insect outbreaks interact with increasing fire frequency to shape ecosystem structure and function in high-latitude forests. Warming temperatures increase the distribution and abundance of biotic agents like aspen leaf miner and canker. Yet relatively little is known about their impact on forest structure and function, particularly when they interact with fire or intense browsing by mammalian herbivores. These disturbances and their interactions could fundamentally alter boreal forests. Working with collaborators at the Cary Institute of Ecosystem Studies and the University of Saskatchewan, I combine landscape simulation modeling with existing empirical data to test mechanistic hypotheses about fire-biotic interactions and their impact on boreal forest succession and carbon. I work with groups like the Bonanza Creek Long Term Ecological Research Program to synthesize existing spatial and non-spatial datasets on biotic disturbances and model how organisms like moose, hare, aspen leaf miner and others alter forest composition and carbon through interactions with fire and warming climate.\n\n\nHow can historical and paleoecologic data be integrated with modeling to anticipate future change?\nIncreasing fire is driving transformations of boreal forest composition from conifer to broadleaf species. Paleoecologic data hints at the presence of self-regulation, negative feedbacks to fire, a process enabled by an increased dominance of broadleaf species, historically considered less flammable. But it remains unclear whether paleoecologic environments are good analogs for current boreal forests, and whether shifts in forest structure and composition will enable different fire behavior under increasing temperatures. Working with collaborators at the Environmental Defense Fund, Colorado State University, and the University of Montana, I pair empirical measurements of forest structure and composition with late Holocene pollen and charcoal records from lake sediments to test for the possibility, strength or duration of fire self-regulation via increased broadleaf species. As a co-PI on the project, I lead our field measurements, quantifying forest structure and composition in broadleaf stands in boreal forests, data that will be coupled with state-of-the-art physics-based combustion models to examine potential fire behavior (more project details here). Our preliminary fire behavior modeling work has shown that fire spread in reburned landscapes is limited by both fuel and fire weather constraints (link to MS), at least within the first several decades after fire (Buma et al. 2022). \nIn addition to my ecological research, I’m very interested in how we do science. While mentoring field assistants as a graduate student, I became passionate about issues of safety and diversity in field research, particularly for early-career scientists. I believe conducting and leading fieldwork is part of the ‘hidden curriculum’ of many natural science programs – field research is a critical part of completing many natural science degrees, but opportunities for developing the leadership and management skills required to lead field research safely are limited and often informal (Reichenborn et al. 2024). I developed a survey, asking the natural science community for their perception of the key skills required to lead a field season safely and responsibly. Using the recommendations provided, my colleagues and I produced suggestions for graduate students who lead fieldwork. We also provided suggestions for ways that principal investigators, labs and departments could support graduate fieldwork, including more formal training in skills like wilderness first aid, bystander intervention and conflict resolution (Hayes et al. 2022).\nIf you’re interested in hearing me talk more about my work, I’ve given public seminars at the Cary Institute of Ecosystem studies (link seminar here).\n\n\n\n\n\nReferences\n\nBuma, B., K. Hayes, S. Weiss, and M. Lucash. 2022. “Short-Interval Fires Increasing in the Alaskan Boreal Forest as Fire Self-Regulation Decays Across Forest Types.” Scientific Reports 12 (1): 4901. https://doi.org/10.1038/s41598-022-08912-8.\n\n\nHayes, Katherine, and Brian Buma. 2021. “Effects of Short-Interval Disturbances Continue to Accumulate, Overwhelming Variability in Local Resilience.” Ecosphere 12 (3). https://doi.org/10.1002/ecs2.3379.\n\n\nHayes, Katherine, Trevor Carter, Phoebe Cook, Erin Twaddell, and Brian Buma. 2022. “Supporting Graduate Field Leadership Through Community-Sourced Advice, Action, and Policy.” Ecosphere 13 (9). https://doi.org/10.1002/ecs2.4247.\n\n\nReichenborn, Molly M., Caitlin Rottler, Lina Aragón, Tara B. B. Bishop, Katherine Hayes, Ezra Kottler, Michelle L. Talal, and Pacifica Sommers. 2024. “Advice From the Field: Practical Skills, Challenges, and How to Support Early Career Ecologists.” The Bulletin of the Ecological Society of America 105 (2). https://doi.org/10.1002/bes2.2127."
  },
  {
    "objectID": "posts/WebsiteBuild/index.html#adding-pictures-to-the-background-of-title-blocks",
    "href": "posts/WebsiteBuild/index.html#adding-pictures-to-the-background-of-title-blocks",
    "title": "How I built my site",
    "section": "Adding pictures to the background of title blocks",
    "text": "Adding pictures to the background of title blocks"
  },
  {
    "objectID": "posts/WebsiteBuild/index.html#draft-false---publishing-posts",
    "href": "posts/WebsiteBuild/index.html#draft-false---publishing-posts",
    "title": "How I built my site",
    "section": "draft: false - Publishing posts",
    "text": "draft: false - Publishing posts\nI ran into some trouble at first with draft: true - once you’ve added it to the the yml code at the top of your quarto document, you’ll need to delete it entirely to get the post show up once you’re ready to publish."
  },
  {
    "objectID": "posts/WebsiteBuild/index.html#setting-global-blog-post-theme",
    "href": "posts/WebsiteBuild/index.html#setting-global-blog-post-theme",
    "title": "How I built my site",
    "section": "Setting global blog post theme",
    "text": "Setting global blog post theme\nYou can use the _metadata.yml file to set options for all the files in the posts folder.\nMine looks like this:\n# freeze computational output\n# (see https://quarto.org/docs/projects/code-execution.html#freeze)\nfreeze: true\n\n# Enable banner style title blocks\ntitle-block-banner: true\n\n# Default for Tufte Style\nformat:\n  html:\n    toc: true\n    toc-title: Contents\n    toc-location: left\n    grid:\n      margin-width: 350px\nreference-location: margin\ncitation-location: margin\n\n# Adding comment sections\ncomments: \n  utterances: \n    repo:  k8hayes/BlogComments"
  },
  {
    "objectID": "posts/WebsiteBuild/index.html#new-post-template",
    "href": "posts/WebsiteBuild/index.html#new-post-template",
    "title": "How I built my site",
    "section": "New Post Template",
    "text": "New Post Template\nTo make starting new posts easy, I added a folder to my posts folder called NewPostTemplate - the index file within has the following settings:\n---\ntitle: \"New Post Title\"\nsubtitle: \"New Post Subtitle\"\ndate: today\ncategories: []\ndate-modified: last-modified\ndraft: true\n---\nThen, I can simply make a copy of that folder to start a new post. Make sure to update the date to the publication date - using today and last-modified in the internal workings of the quarto document means more rendering in the background (cite where I found that tip)."
  },
  {
    "objectID": "posts/WebsiteBuild/index.html#adding-comment-sections",
    "href": "posts/WebsiteBuild/index.html#adding-comment-sections",
    "title": "How I built my site",
    "section": "Adding Comment Sections",
    "text": "Adding Comment Sections"
  },
  {
    "objectID": "posts/WebsiteBuild/index.html#session-info",
    "href": "posts/WebsiteBuild/index.html#session-info",
    "title": "How I built my site",
    "section": "Session info",
    "text": "Session info\n\nsessionInfo()\n\nR version 4.3.3 (2024-02-29)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Sonoma 14.0\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: America/Chicago\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.3.3    fastmap_1.1.1     cli_3.6.2        \n [5] tools_4.3.3       htmltools_0.5.8   rstudioapi_0.16.0 yaml_2.3.8       \n [9] rmarkdown_2.26    knitr_1.45        jsonlite_1.8.8    xfun_0.43        \n[13] digest_0.6.35     rlang_1.1.3       evaluate_0.23"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html",
    "href": "posts/Draft_WebsiteBuild/index.html",
    "title": "How I built my site",
    "section": "",
    "text": "There’s tons of resources out there for how to built a personal website as an academic, made by folks with actual expertise in web design, coding, etc.\nI’d wanted to start my own blog / digital garden for years. Initially, the roadblock was imposter syndrome - did I actually have anything to write about? Would it be useful to anyone? isn’t it all a bit cringe?1\nOnce those worries were shouted down overcome, the main roadblock became technical know-how. I originally developed my website using a bundle of tools including blogdown, github, netlify all centered around the very popular academic theme from hugo. I’ve had it for years now, but it was heavy-lifting - building it took what felt like a week of work back in 2020, and I couldn’t update easily without having to relearn the folder structure rules each time.\nOriginally, I wanted to tweak the theme, add some blog pages and be done with it, but writeups like this from Maelle Salmon discussing hugo theme maintenance and this one from Alison Hill on Quarto made me wonder if there was a better way.\nThe straw that broke the camel’s back was vanity the Tufte theme that’s possible in Quarto - per the requirements of receiving a degree in geography, my copy of Visual Display of Quantitative Information lives on my coffee table. Adding Tufte’s beautiful sidenotes and column spacing is as easy as adding a line or two of yaml in Quarto and opens up a whole new world of snarky asides2."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#switching-from-blogdown-to-quarto",
    "href": "posts/Draft_WebsiteBuild/index.html#switching-from-blogdown-to-quarto",
    "title": "How I built my site",
    "section": "Switching from blogdown to quarto",
    "text": "Switching from blogdown to quarto\n\nInitiating a quarto website\nInitiating a Quarto website is shockingly easy. Working from Rstudio, you simply open a New Project, select Quarto Website, name it something new and click Render to preview.\nYour Rstudio will look like this:\n\n\n\na brand new quarto website\n\n\nAnd your render will look like this:\n\n\n\noff to the races\n\n\nThat’s it. 4 steps, and you’re previewing a website with a landing page, a menu bar and two pages. Now, your render won’t be hosted anywhere but locally, but already that’s a much more easy entry than the one I remember from Hugo.\n\n\nTo add a blog:\nTo add a blog6, or any pages that will live under a different landing page than the home page, add the following steps:\n6 You can also create a “Quarto Blog” instead of “Quarto Website” by going to New Project - I just wanted to figure out how to do it by hand so I knew how to initiate other website pages down the line\nCreate a landing page\n\nInitiate a quarto file for your landing page and call it something like blog.qmd\nWithin blog.qmd, add the following lines to the yaml code at the top:\n\nlisting:\n  contents: posts\n  sort: \"date desc\"\n  type: default\n  categories: true\n  sort-ui: false\n  filter-ui: false\nNow, you’ll need to add it to your site navigation:\n\nNavigate to your _quarto.yml file which should have been created when you initiated the New Website process above\nYou should see yml code - mine looks like the following:\n\nproject:\n  type: website\n\nwebsite:\n  title: \"Katherine Hayes\"\n  navbar:\n    right:\n      - text: \"About Me\"\n        file: about.qmd\n    \nformat:\n  html:\n    theme: cosmo\n    css: styles.css\n    toc: false\n\neditor: visual\n\nUnder navbar, add lines that specify text and file similar to the example above (so, probably text: “Blog” and file: blog.qmd)\nCreate a folder called posts - your posts will live here, within individual folders\nWithin posts, each folder will contain an index.qmd file for the blog post\n\n\n\nWriting a blog post\n\n\nHow to make a Series\nTo publish blog posts in a series, they need to be located in a subdirectory of the posts folder. You’ll also need a landing page. I’m writing up a series of posts on some of the model parameterization work I’ve done recently for my fire-herbivory project, so I named my series folder posts/param_series and added a landing page named param_landing.gmd (I know, creative). Make sure the landing page is located in the top directory, the one where your about / index / blog quarto documents are located.\nWithin the landing page,\ntitle: \"Series: ggplot2-tips\"\nlisting:\n  contents: posts/ggplot2-tips\n  sort: \"date desc\"\n  type: default\n  categories: false\n  sort-ui: false\n  filter-ui: false\n  fields: [date, title, reading-time, description]\npage-layout: full\ntitle-block-banner: true\nYou’ll need to modify the contents: setting within your blog.qmd file so it sees the contents of the series folder. You can do this using glob syntax - a very fun name for what essentially means “global patterns”. ** can be used to tell quarto to look within any folder, and *.qmd will select any quarto document.\nThus, you can then change your blog yml from:\ntitle: \"Blog\"\nsubtitle: \"An attempt at a digital garden / notebook\"\nlisting:\n  contents: posts\nTo this:\ntitle: \"Blog\"\nsubtitle: \"An attempt at a digital garden / notebook\"\nlisting:\n  contents: \n  - posts/**/*.qmd\n  - posts/**/**/*.qmd\nAnd it should catch any quarto documents within the nested folders."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#draft-false---publishing-posts",
    "href": "posts/Draft_WebsiteBuild/index.html#draft-false---publishing-posts",
    "title": "How I built my site",
    "section": "draft: false - Publishing posts",
    "text": "draft: false - Publishing posts\nI ran into some trouble at first with draft: true - once you’ve added it to the the yml code at the top of your quarto document, you’ll need to delete it entirely to get the post show up once you’re ready to publish."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#adding-pictures-to-the-background-of-title-blocks",
    "href": "posts/Draft_WebsiteBuild/index.html#adding-pictures-to-the-background-of-title-blocks",
    "title": "How I built my site",
    "section": "Adding pictures to the background of title blocks",
    "text": "Adding pictures to the background of title blocks"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#setting-global-blog-post-theme",
    "href": "posts/Draft_WebsiteBuild/index.html#setting-global-blog-post-theme",
    "title": "How I built my site",
    "section": "Setting global blog post theme",
    "text": "Setting global blog post theme\nYou can use the _metadata.yml file to set options for all the files in the posts folder.\nMine looks like this:\n# freeze computational output\n# (see https://quarto.org/docs/projects/code-execution.html#freeze)\nfreeze: true\n\n# Enable banner style title blocks\ntitle-block-banner: true\n\n# Default for Tufte Style\nformat:\n  html:\n    toc: true\n    toc-title: Contents\n    toc-location: left\n    grid:\n      margin-width: 350px\nreference-location: margin\ncitation-location: margin\n\n# Adding comment sections\ncomments: \n  utterances: \n    repo:  k8hayes/BlogComments"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#new-post-template",
    "href": "posts/Draft_WebsiteBuild/index.html#new-post-template",
    "title": "How I built my site",
    "section": "New Post Template",
    "text": "New Post Template\nTo make starting new posts easy, I added a folder to my posts folder called NewPostTemplate - the index file within has the following settings:\n---\ntitle: \"New Post Title\"\nsubtitle: \"New Post Subtitle\"\ndate: today\ncategories: []\ndate-modified: last-modified\ndraft: true\n---\nThen, I can simply make a copy of that folder to start a new post. Make sure to update the date to the publication date once it’s finalized - using today and last-modified in the internal workings of the quarto document is not really considered best practice, since it means more rendering in the background (per the Quarto documentation)."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#adding-comment-sections",
    "href": "posts/Draft_WebsiteBuild/index.html#adding-comment-sections",
    "title": "How I built my site",
    "section": "Adding Comment Sections",
    "text": "Adding Comment Sections\nI’m still figuring out how to add comments to the blog. There appears to be"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#session-info",
    "href": "posts/Draft_WebsiteBuild/index.html#session-info",
    "title": "How I built my site",
    "section": "Session info",
    "text": "Session info\n\nsessionInfo()\n\nR version 4.3.3 (2024-02-29)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Sonoma 14.0\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: America/Chicago\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.3.3    fastmap_1.1.1     cli_3.6.2        \n [5] tools_4.3.3       htmltools_0.5.8   rstudioapi_0.16.0 yaml_2.3.8       \n [9] rmarkdown_2.26    knitr_1.45        jsonlite_1.8.8    xfun_0.43        \n[13] digest_0.6.35     rlang_1.1.3       evaluate_0.23"
  },
  {
    "objectID": "posts/Draft_ResearchWorkflow/index.html",
    "href": "posts/Draft_ResearchWorkflow/index.html",
    "title": "Research Workflow",
    "section": "",
    "text": "I’ve played around with many different research workflows over the years - physical notebooks, notes stored in infinite word documents, color-coded index cards when I was a brand new undergraduate writing my first research paper. I’ve gone back and forth since then about whether following a system is a really important tool or whether it’s a particularly creative procrastination technique. I’d like to think I’ve found a middle ground. My current system is automated as much as possible to cut down on the busy work of maintaining the workflow itself."
  },
  {
    "objectID": "posts/Draft_ResearchWorkflow/index.html#saving-filing-and-reading-articles",
    "href": "posts/Draft_ResearchWorkflow/index.html#saving-filing-and-reading-articles",
    "title": "Research Workflow",
    "section": "Saving, filing and reading articles",
    "text": "Saving, filing and reading articles\nI import articles into zotero using the chrome extension, organize it roughly in a folder, and read it in PDF form within zotero on a tablet (which, now thanks to Zotero 6, syncs and saves highlights and annotations across devices).\nFrom there, the Citations plug-in allows me to link my Obsidian notes to the zotero entry using citekeys generated by betterbibtex."
  },
  {
    "objectID": "posts/Draft_ResearchWorkflow/index.html#some-examples-of-similar-workflows",
    "href": "posts/Draft_ResearchWorkflow/index.html#some-examples-of-similar-workflows",
    "title": "Research Workflow",
    "section": "Some examples of similar workflows:",
    "text": "Some examples of similar workflows:\n\nhttps://martinezponciano.es/2021/04/05/research-workflow-as-a-phd-student-in-the-humanities/\nhttps://wippp.com/blog/taekman-zettelkasten-workflow-2023-using-devonthink-drafts-and-obsidian\nhttps://nicolevanderhoeven.com/blog/20210518-how-i-use-obsidian-at-work/#the-easier-way\nhttps://thesiswhisperer.com/2023/02/01/building-a-second-brain-for-writing-with-obsidian/\nhttps://notes.nicolevanderhoeven.com/obsidian-playbook/Using+Obsidian/01+First+steps+with+Obsidian/Obsidian\nhttps://notes.nicolevanderhoeven.com/sources/Presentation/Mine/The+Lost+Art+of+Taking+Good+Notes"
  },
  {
    "objectID": "posts/Draft_ResearchWorkflow/index.html#a-full-list-of-tools",
    "href": "posts/Draft_ResearchWorkflow/index.html#a-full-list-of-tools",
    "title": "Research Workflow",
    "section": "A full list of tools",
    "text": "A full list of tools\n\nObsidian\nObsidian Citation plug in\nbetterbibtex - creates citekeys that link zotero items to obsidian notes\nZotero\nZotero Chrome Extension - saves articles to zotero libraries within Chrome"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#switching-netlify-hosts",
    "href": "posts/Draft_WebsiteBuild/index.html#switching-netlify-hosts",
    "title": "How I built my site",
    "section": "Switching netlify hosts",
    "text": "Switching netlify hosts\nMy old website was already hosted on Netlify, and I wanted to hold on to the same domain.\nInitially, I started my Quarto website in a folder adjacent to the folder containing my existing website. When it came time to migrate, I copied my old website folders into an archive, and then replaced them with the new quarto folders (keeping the same Rproj file). Then I held my breath and pushed changes.\nAfter that, I needed to mollify Netlify - I disconnected"
  },
  {
    "objectID": "posts/param_series/param_landing.html",
    "href": "posts/param_series/param_landing.html",
    "title": "Model Parameterization",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "posts/iLand_series/iLand_landing.html",
    "href": "posts/iLand_series/iLand_landing.html",
    "title": "Working with iLand Output",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "iLand_landing.html",
    "href": "iLand_landing.html",
    "title": "Working with iLand Output",
    "section": "",
    "text": "Benchmarking Reburning in iLand\n\n\nPart One in a Series on iLand benchmarking\n\n\nUsing terra to quantify overlaps in fire perimeter rasters\n\n\n\n\n\n\nMay 28, 2024\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "param_landing.html",
    "href": "param_landing.html",
    "title": "Model Parameterization",
    "section": "",
    "text": "No matching items"
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html",
    "title": "Benchmarking Reburning in iLand",
    "section": "",
    "text": "Using terra to quantify overlaps in fire perimeter rasters"
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#determining-which-fires-in-iland-were-stand-replacing",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#determining-which-fires-in-iland-were-stand-replacing",
    "title": "Benchmarking Reburning in iLand",
    "section": "Determining which fires in iLand were stand-replacing",
    "text": "Determining which fires in iLand were stand-replacing\nFirst, I need to determine which fires in my iLand run were “stand-replacing” -\nThe fire output in iLand produces a table of each fire, shown below.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nyear\nfireId\narea_plan_m2\narea_m2\niterations\ncoord_x\ncoord_y\nn_trees\nn_trees_died\nbasalArea_total\nbasalArea_died\npsme_died\navgFuel_kg_ha\nwindSpeed\nwindDirection\n\n\n\n\n6\n1\n9355921\n9359200\n95\n7390\n8810\n1106699\n1064982\n2388.6883\n2298.610\n0\n39755.37\n17.67204\n187.2722\n\n\n11\n2\n10613320\n10667600\n105\n18030\n23030\n535890\n514951\n2157.1445\n2067.686\n0\n55101.33\n16.16441\n254.2023\n\n\n18\n3\n66038024\n66571200\n256\n20110\n11130\n9971141\n8522890\n62771.2287\n53269.425\n0\n43763.40\n12.09752\n197.0730\n\n\n37\n4\n13235234\n13236000\n105\n16010\n8770\n1722762\n1362931\n15451.4867\n11253.633\n0\n40959.27\n23.64123\n268.0712\n\n\n49\n5\n62118545\n62408800\n249\n7630\n2990\n6223445\n4654781\n82294.3472\n55315.312\n0\n45441.38\n23.28553\n235.8422\n\n\n79\n6\n153096650\n153714800\n383\n4110\n14530\n13023363\n9126662\n219533.7647\n126019.528\n0\n43652.15\n13.33987\n254.2933\n\n\n93\n7\n1258524\n1277600\n34\n22990\n13390\n141322\n99230\n2471.1608\n1493.027\n0\n29401.03\n11.58742\n200.6049\n\n\n101\n8\n17526161\n17739600\n129\n1450\n14410\n517573\n397160\n6548.2361\n2715.915\n0\n32069.33\n27.12384\n260.0029\n\n\n113\n9\n23251611\n23413600\n151\n15850\n6210\n1705366\n1193239\n34838.5227\n19189.206\n0\n42169.49\n25.58756\n233.4567\n\n\n115\n10\n1981966\n2008400\n39\n1210\n13970\n66117\n50832\n683.4222\n229.551\n0\n16211.83\n15.73365\n239.5789\n\n\n127\n11\n24433818\n24488400\n151\n1970\n19310\n1130352\n896409\n15474.3118\n8279.242\n0\n51011.59\n13.86956\n257.5287\n\n\n128\n12\n3461822\n3543600\n60\n6130\n6090\n520249\n365378\n7815.2903\n4422.803\n0\n19316.17\n18.26541\n228.5157\n\n\n155\n13\n42209881\n42216000\n242\n530\n14930\n3168223\n2320287\n51250.5543\n23932.379\n0\n38331.30\n24.37498\n207.2945\n\n\n170\n14\n30183070\n30241600\n158\n5810\n20370\n1348460\n1133645\n19465.7227\n11652.611\n0\n55874.93\n15.20795\n216.0514\n\n\n186\n15\n3774943\n3904400\n56\n4230\n7330\n280457\n190965\n5742.5958\n2823.583\n0\n36889.62\n16.33519\n263.5800\n\n\n186\n16\n14987103\n15212000\n109\n4130\n13010\n1636544\n1228222\n23955.1826\n9779.148\n0\n24929.67\n29.18820\n191.5560\n\n\n192\n17\n6080132\n6218400\n75\n19730\n3030\n556809\n391779\n11443.7747\n5326.691\n0\n29748.50\n12.43170\n240.7054\n\n\n196\n18\n82774479\n82817600\n279\n8770\n5230\n6073521\n4301367\n126098.1813\n62908.374\n0\n35699.13\n13.31725\n183.1845\n\n\n205\n19\n42031808\n42087200\n211\n7830\n22150\n1186354\n971450\n18140.2053\n8789.391\n0\n54178.54\n24.14464\n190.5515\n\n\n206\n20\n4759821\n4852800\n72\n14530\n14770\n292863\n223986\n5391.1960\n2530.305\n0\n40919.96\n22.24638\n188.9378\n\n\n209\n21\n27161911\n27330000\n161\n10550\n7650\n2228298\n1700506\n24846.2545\n11125.712\n0\n22243.74\n11.80762\n219.2560\n\n\n229\n22\n86507214\n86949600\n319\n1650\n7350\n8545906\n6381659\n114956.2688\n54858.865\n0\n35720.83\n24.34829\n214.7623\n\n\n255\n23\n6448735\n6564000\n73\n21630\n10610\n407364\n325927\n6143.1676\n2588.093\n0\n38903.49\n11.11992\n232.8224\n\n\n273\n24\n74646095\n74958000\n259\n6330\n5730\n9639587\n7044859\n129629.1524\n70688.719\n0\n29775.69\n11.04457\n205.9398\n\n\n288\n25\n12147746\n12311200\n111\n14110\n4930\n691252\n496647\n14124.9318\n5887.714\n0\n42145.70\n17.91752\n257.8751\n\n\n290\n26\n61986520\n62263200\n235\n6130\n7250\n13305606\n10319713\n92403.2798\n47632.022\n0\n16508.43\n27.38842\n235.8599\n\n\n291\n27\n6288371\n6466800\n81\n21630\n7530\n417439\n322173\n6507.2185\n2719.114\n0\n40083.61\n25.11454\n264.0305\n\n\n\n\n\nThere’s two ways to represent fire severity using this output: the proportion of trees killed within each fire, and the proportion of basal area killed. Those two metrics are distinct in slight yet important ways - a fire might kill all trees in a young stand but if the trees themselves were small, the impact on basal area won’t be terribly large. Or, a fire might kill only the largest/oldest individuals in a stand, thus impacting carbon greatly in a way that wouldn’t show up using just proportion of trees killed. Here, since we’re interested in how forests are regenerating, I’ll focus on instances where fires killed all trees, but I’ll show both for the sake of it.\n\n# drop the fire years where there was no burn\n  fire &lt;- fire[fire$area_m2 &gt; 0,] # no fire years with no burn\n  length(unique(fire$fireId)) # how many fires occurred across the simulation?\n\n[1] 27\n\n\n\n  fire &lt;- fire %&gt;% \n    mutate( # how many trees were killed?\n              prop.dens.killed = n_trees_died / n_trees, \n            # what basal area was killed?\n              prop.ba.killed = basalArea_died / basalArea_total) \n      \n      fire$prop.ba.killed[fire$basalArea_total == 0] &lt;- 0 # set to 0\n      fire$prop.dens.killed[fire$n_trees == 0] &lt;- 0\n\nHowever, there’s one challenge with this. Here’s the percent of stems killed across fires:\n\n\n\n\n\nFigure 1: Percent of stems killed across fires\n\n\n\n\nAnd here’s the percent basal area killed across all fires:\n\n\n\n\n\nFigure 2: Percent basal area killed across fires\n\n\n\n\nYou’ll notice neither metric shows values that are completely equal to 100%. At first this seems like a problem, right?1\n1 none of our fires were stand-replacing??This is an important nuance of the iLand fire output - n_trees_killed and basalArea_died are aggregated across the entire fire. Cells within the fire may have experienced full canopy mortality, but since we’re working with averages, it’ll be very very rare (if not impossible) for a stand to have 100% of stems killed across the entire fire."
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#saving-additional-fire-output",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#saving-additional-fire-output",
    "title": "Benchmarking Reburning in iLand",
    "section": "Saving additional fire output",
    "text": "Saving additional fire output\nI’ll need more detail, and thankfully there’s a fun way to solve this - by adding a javascript file to the scripts folder, you can add code that tells iLand to save raster files of the perimeter of each fire with additional information. Some options of things to turn on include:\n\ncrownKill: fraction of the crown killed within a burned resource unit (see wildfire ).\ndiedStemsFrac: fraction of killed trees within a burned resource unit\ndiedBasalArea: basal area (sum over resource units) of burnt trees.\nKBDI: Keetch Byram Drought Index (see wildfire ).\nbaseIgnition: base probability of an annual fire ignition event for a cell on RU level (depending on fire-return-interval and average fire size)\nfuel: burned fuel (forest floor + dwd) kg/ha\ncombustibleFuel: “available combustible fuel (current KBDI, forest floor + dwd) kg/ha\nnFire: cumulative count of fire events on a resource unit2\nlastFireYear: simulation year of the last fire event on a RU\n\n2 Breaking the forth wall: discovered this output while putting together this quarto document. In future runs, I’ll turn this on and avoid some of the steps described later in the document to filter out reburns3 Note that this is trees killed within burned resource units, not saplings. It still works for our purposes for a few reasons:\n\nThe likelihood that saplings survive in a burned resource unit where all trees are killed seems low (but I can go ahead and check later on)\nSince I’m interested in height-growth relationships, I’ll be filtering out saplings with ages older than the time since fire for the resource unit, so I should catch any that slip through (again, even if they do)\n\nFor this analysis, I’ll stick to diedStemsFrac - the number of trees killed within a resource unit3. First, you need to add a function into your iLand model to tell it to save the extra output.\nThe code to do so is the following:\n\nfunction afterFireProcessing() {\n   var praefix = Globals.year;\n   var pid= Fire.id;\n   // save the form of the fire in ESRI raster format\n   // save a file for each fire\n   Fire.grid(\"diedStemsFrac\").save('output/dead/dead_'+ pid +'.txt')\n}\n\nAdd this in to a javascript file within the Scripts folder in your iLand folder ecosystem, and enable &lt;management&gt; under &lt;/model&gt; in your project file. Now, if you set up a “dead” folder in your output, a raster of values of stems killed will save after each fire.4\n4 To track other items from the list of variables above, call a new Fire.grid() within the afterFireProcessing function and give it a unique save destinationIn order to filter our sapling output by the cells that experienced canopy-replacing fire, I can filter not only by the rasters (the footprint of the fire), but by the value of diedStemsFraction variable within each raster pixel (which represent resource units in the iLand landscape).\nThe function rast() from the terra package (Hijmans 2023) creates a SpatRaster object, a object type in R that can represent multi-layer or multi-variable raster data. Here, the object fire_maps is a three-dimensional raster - the first two dimensions are the x and y axis of our iLand landscape and the third dimension is 27 layers of fire perimeters (one for each fire within the simulation). Each pixel within that raster represents an individual resource unit from the iLand landscape and contains a value from 0 -1, representing diedStemsFrac.\n\nHijmans, Robert J. 2023. “Terra: Spatial Data Analysis.” https://CRAN.R-project.org/package=terra.\n\nfire_maps \n\nclass       : SpatRaster \ndimensions  : 239, 255, 27  (nrow, ncol, nlyr)\nresolution  : 100, 100  (x, y)\nextent      : 462504.2, 488004.2, 7215242, 7239142  (xmin, xmax, ymin, ymax)\ncoord. ref. :  \nsource      : fire_maps.tif \nnames       : dead_1, dead_10, dead_11, dead_12, dead_13, dead_14, ... \nmin values  :      0,       0,       0,       0,       0,       0, ... \nmax values  :      1,       1,       1,       1,       1,       1, ... \n\nnlyr(fire_maps) # 27 layers, one for each fire\n\n[1] 27\n\nknitr::kable(head(values(fire_maps)))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndead_1\ndead_10\ndead_11\ndead_12\ndead_13\ndead_14\ndead_15\ndead_16\ndead_17\ndead_18\ndead_19\ndead_2\ndead_20\ndead_21\ndead_22\ndead_23\ndead_24\ndead_25\ndead_26\ndead_27\ndead_3\ndead_4\ndead_5\ndead_6\ndead_7\ndead_8\ndead_9\n\n\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n\n\n\nI can call on each of those 27 layers to examine the fire perimeters one by one. For example, this is the fire perimeter from the first fire in the simulation:\n\n\n\n\n\nFigure 3: Fire Perimeter of first fire in spin-up simulation. The color gradient represents diedStemsFrac as a value from 0 to 1.\n\n\n\n\nI’ll use these rasters to determine which resource units experienced stand-replacing fire5, and use those resource unit IDs to filter the sapling and tree data.\n5 Which I can now define more specifically as diedStemFrac = 1\n\n\n\n\n\nNote\n\n\n\nAn aside: this run is a spin-up simulation - I ran iLand, initializing forests from an empty landscape6 in year 0, and simulated forest growth and fire over 300 years. This seems to be the sweet spot for simulation runs - at year 300, it’s a landscape full of a mix of mature, regenerating and recently burned stands, just as we’d observe in real life. Since fires that occur early in the spin-up inherently burn young stands, it’s not terribly representative of the relationship between height and age in regrowth that I want to eventually compare to the herbivore-impacted relationship. So, I’ll filter to just the last 100 years of the simulation.\n\n\n6 An aside to the aside (meta!!) - it’s an empty landscape in the sense that there are no trees in year 0, but I do initialize using a soil organic layer that varies heterogeneously across the landscape. This isn’t just to represent real life for real life’s sake - initializing from truly empty (truly bare ground) causes totally different patterns of forests. As has been shown in decades of work in Alaska by Jill Johnstone and others, soil organic layer filters forest community composition in really critical ways, allowing spruce to outcompete species like birch and aspen which can’t persist in thick soil or moss layers for as long.\n\n\n\n\n\nNote\n\n\n\nQuestion: what determines the initial heterogeneity in the SOL when initiating from bare ground using the permafrost module? (technically it’s the moss layer heterogeneity in year 0 that introduces the SOL heterogeneity in year 1 - where do those initial values come from?)\n\n\n\n  # filtering to last 100 years of fire\n  fire100 &lt;- fire %&gt;%\n    filter(year &gt;200)\n  length(unique(fire100$fireId)) # How many fires in the last 100 years?\n\n[1] 9\n\n  # dropping layers from fire raster\n  fire_maps100 &lt;- subset(fire_maps, \n                         paste0(\"dead_\", fire100$fireId))"
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#determining-overlap-between-rasters-using-the-terra-package",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#determining-overlap-between-rasters-using-the-terra-package",
    "title": "Benchmarking Reburning in iLand",
    "section": "Determining overlap between rasters using the terra package",
    "text": "Determining overlap between rasters using the terra package\nSince for this analysis I’m interested in the relationship between height and age, I’ll need to filter out stands that burned shortly8 after preceding fires - a disturbance pattern which would definitely impact age-height relationships. I’ll need to figure out where the overlaps actually occur, so I can exclude the corresponding resource units from the sapling and tree data later. I’ll do this process in two ways: 1) by looking at the physical overlap between the entirety of the fire perimeters, 2) by looking only at the overlap between high severity fires.\n8 Typically, “short-interval” fire in the boreal is defined as 50 years or less between fires (Buma et al. 2022). Since I’m looking across a window of 100 years, I’m assuming everything that reburns in that 100 years is “short-interval” - I haven’t looked to see if there’s resource units that burn in year 1 and reburn in year 99, and maybe I’ll do that down the line, but right now I don’t want to bother.\nBuma, B., K. Hayes, S. Weiss, and M. Lucash. 2022. “Short-Interval Fires Increasing in the Alaskan Boreal Forest as Fire Self-Regulation Decays Across Forest Types.” Scientific Reports 12 (1): 4901. https://doi.org/10.1038/s41598-022-08912-8.\nThe intersect() function in terra is useful for checking overlap, but only takes two rasters at a time:\n\noverlap &lt;- terra::intersect(fire_mapsNA[[1]],\n                            fire_mapsNA[[2]])\n\nplot(overlap)\n\n\n\n\nFigure 5: Overlap between first two fires\n\n\n\n\nTurns out, the best way I’ve found to quickly check which rasters overlap actually involves terra’s mosaic() function:\n\n# split all the layers into a list\nmapList &lt;- terra::split(fire_mapsNA, 1:nlyr(fire_mapsNA))\n\n# turn list into SpatRaster Collection\nmapSPC &lt;- terra::sprc(mapList) \n\n# merge values across layers\nreburn &lt;- terra::mosaic(mapSPC, fun = \"sum\") # can apply a number of functions (mean, etc)\nplot(reburn)\n\n\n\n\nFigure 6: Using mosaic() to collapse layers\n\n\n\n\nYay!! Okay!! Now, if I set all the values of the layers to 1, I’ll end up with a raster of number of fires.\n\nperim &lt;- fire_maps100 &gt; 0 # exclude unburned values\n\n# setting all values to 1 regardless of diedStemFrac\nperim &lt;- subst(perim, TRUE, 1, others = NA) # everything else NA\n\n\n# split all the layers into a list\nperimList &lt;- terra::split(perim, 1:nlyr(perim))\n\n# turn list into SpatRaster Collection\nperimSPC &lt;- terra::sprc(perimList) \n\n# merge values across layers\nnFire &lt;- terra::mosaic(perimSPC, fun = \"sum\")\nplot(nFire)\n\n\n\n\nFigure 7: Reburn history\n\n\n\n\nyay!! Now I can filter by the value of nFire to get the specific resource units that burned and eventually exclude them for the analysis."
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#iland-reburn-trends",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#iland-reburn-trends",
    "title": "Benchmarking Reburning in iLand",
    "section": "iLand Reburn trends",
    "text": "iLand Reburn trends\nA few more exploratory tangential questions since we’re here:\n\nHow much of the landscape burned once?\n\nnfire1 &lt;- subst(nFire, 1, 1, others = NA)\nplot(nfire1)\n\n\n\n\nFigure 8: 1x fire perimeters\n\n\n\n\n\n# what RID burned once?\nnfire1rid &lt;- as.data.frame(mask(env.grid, nfire1))\n\n# how many unique resource units are there?\ndomain &lt;- ncell(env.grid) # dimensions are 239 by 255 \n\n# how many resource units burned once?\nlength(unique(nfire1rid$env.grid)) \n\n[1] 13300\n\n# so, what %?\nround((length(unique(nfire1rid$env.grid)) / domain) *100, 1)\n\n[1] 21.8\n\n\n\n\nHow much burned twice?\n\nnfire2 &lt;- subst(nFire, 2, 1, others = NA)\nplot(nfire2)\n\n\n\n\nFigure 9: 2x fire perimeters\n\n\n\n\n\n# what RID burned twice?\nnfire2rid &lt;- as.data.frame(mask(env.grid, nfire2))\n\n# so, what %?\nround((length(unique(nfire2rid$env.grid)) / domain) *100, 1)\n\n[1] 3.8\n\n\n\n\nHow much burned three times?\n\nnfire3 &lt;- subst(nFire, 3, 1, others = NA)\nplot(nfire3)\n\n\n\n\nFigure 10: 3x fire perimeters\n\n\n\n\n\n# what RID burned thrice?\nnfire3rid &lt;- as.data.frame(mask(env.grid, nfire3))\n\n# so, what %?\nround((length(unique(nfire3rid$env.grid)) / domain) *100, 1)\n\n[1] 8.2\n\n\n\n\nHow does reburning in iLand compare to reburning in MTBS?\nHow does that compare to what we see in the real life frequency of reburning? As part of my work with reburns during my PhD, I worked on a paper with Brian Buma, Melissa Lucash and Shelby Weiss where we looked at trends in reburning across Alaska using the Monitoring Trends in Burn Severity database (MTBS) (Buma et al. 2022).\nA few important differences to cover up front:\n\nMTBS data for Alaska covers 1984 to 2016 - so, the data captures a 32 year window instead of a 100 year one.\nWe used a threshold of 2 to categorize MTBS maps of burn severity into “burned” and “unburned” classifications. I don’t remember if we tested the sensitivity of our analysis to that threshold - I’m super curious how those percentages would change if we filtered to just the cells marked as high severity by MTBS.\nI don’t remember off the top of my head how we dealt with Ecoregion / what Ecoregion CPCRW would fall into.\n\n\n\n\n\n\n\n\nEcoregion\n% Burned Total\n% Burned Once\n% Burned Twice\n% Burned Thrice\n\n\n\n\nInterior forested lowlands/uplands\n18.7\n95.5\n4.3\n0.10\n\n\nYukon Flats\n29.5\n95.5\n4.4\n0.10\n\n\nInterior bottomlands\n21.3\n96.4\n3.6\n0.05\n\n\nInterior highlands\n17.3\n97.7\n2.2\n0.04\n\n\nOgilvie Mountains\n29.2\n99.0\n1.0\n0.00\n\n\nOverall\n19.8\n96.2\n3.7\n0.10\n\n\n\nTable 1: Reburn Frequency of MTBS data from 1984 - 2016, across ecoregion (Buma et al.\n\n\n\n\nAgain, the reburn frequency in the 100 year interval of iLand is the following:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEcoregion\n% Burned Total\n% Burned Once\n% Burned Twice\n% Burned Thrice\n\n\n\n\niLand\n33.8\n21.8\n3.8\n8.2\n\n\n\nTable 2: iLand Reburn Frequency\n\n\nSo, lower percentages than in the MTBS data.\nAn obviously incomplete spitball list of reasons reburning could be lower in iLand:\n\niLand is super stochastic? - runs vary from simulation to simulation. I can try replicating this simulation a few hundred times and averaging fire frequency across them all to see if the distribution of reburning becomes more similar to what we observe in MTBS\nUncertainty in MTBS?\nMechanisms that drive fire in iLand underestimate reburning?"
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#what-about-fire-severity",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#what-about-fire-severity",
    "title": "Benchmarking Reburning in iLand",
    "section": "What about fire severity?",
    "text": "What about fire severity?\nNow, I can introduce one more layer: in theory, we9 often expect reburns (or fires that burn into existing fire perimeters) to occur at diminishing severity. Depending on the window between fires, fuel availability may limit combustion in reburns. Based on that logic, are there overlaps between stands that burned at high severity?\n9 we, the royal fire ecologists\n# filter to just stands with high severity\n  # cells with diedStemsFrac = 1\n  fire_mapsHS &lt;- subst(fire_maps100, 1, 1, others = NA)\n  \n  plot(fire_mapsHS[[1]])\n  plot(fire_mapsHS[[2]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[3]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[4]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[5]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[6]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[7]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[8]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[9]], add = TRUE, legend = FALSE)\n\n\n\n\nFigure 11: High severity fires\n\n\n\n\nObviously less area there. Is there any overlap?\n\n# split all the layers into a list\nhsList &lt;- terra::split(fire_mapsHS, 1:nlyr(fire_mapsHS))\n\n# turn list into SpatRaster Collection\nhsSPC &lt;- terra::sprc(hsList) \n\n# merge values across layers\nnFireHS &lt;- terra::mosaic(hsSPC, fun = \"sum\")\nplot(nFireHS)\n\n\n\n\nFigure 12: Times each resource unit has burned at high severity\n\n\n\n\nOkay. Pretty sparse, but technically there’s still resource units that burned completely both times.\n\nnfireHS2 &lt;- subst(nFireHS, 2, 1, others = NA)\nplot(nfireHS2)\n\n\n\n\nFigure 13: Resource Units that burned twice, each time high severity\n\n\n\n\n\n# what RID burned twice at HS?\nnfireHS2rid &lt;- as.data.frame(mask(env.grid, nfireHS2))\n\n# how many resource units?\nlength(unique(nfireHS2rid$env.grid))\n\n[1] 8\n\n# so, what %?\n(length(unique(nfireHS2rid$env.grid)) / domain) *100\n\n[1] 0.01312659\n\n\nI’m curious about the years that burned twice at high severity. What’s the interval between them?\nTo get back to years, I’ll have to use the list of RIDs to find fireID in the fire_maps object, and then use fireID to look in the original fire output from iLand. Essentially, retracing our steps. I’ll start by converting the object containing resource units that burned twice at high severity (nfireHS2) back to a polygon, so I can use terra’s extract() function to pull information from fire_maps.\n\nnfireHS2poly &lt;- terra::as.polygons(nfireHS2)\nplot(nfireHS2poly)\n\n\n\nfire_mapsHS2 &lt;- terra::extract(fire_maps100, nfireHS2poly)\nhead(fire_mapsHS2)\n\n  ID dead_19 dead_20 dead_21   dead_22 dead_23 dead_24 dead_25 dead_26 dead_27\n1  1       0       0       0 0.9005525       0       1       0       1       0\n2  1       0       0       0 0.8333333       0       1       0       1       0\n3  1       0       0       0 0.8809524       0       1       0       1       0\n4  1       0       0       0 0.9444444       0       1       0       1       0\n5  1       0       0       0 0.8918919       0       1       0       1       0\n6  1       0       0       0 0.9545454       0       1       0       1       0\n\n# drop ID column\nfire_mapsHS2 &lt;- fire_mapsHS2 %&gt;%\n  select(!ID) %&gt;%\n  select(where(~ any(. != 0)))\n\nknitr::kable(fire_mapsHS2)\n\n\n\n\ndead_22\ndead_24\ndead_26\n\n\n\n\n0.9005525\n1\n1\n\n\n0.8333333\n1\n1\n\n\n0.8809524\n1\n1\n\n\n0.9444444\n1\n1\n\n\n0.8918919\n1\n1\n\n\n0.9545454\n1\n1\n\n\n0.0000000\n1\n1\n\n\n0.0000000\n1\n1\n\n\n\n\n# 18 reburned 19\n# 18 reburned 20\n# 23 reburned 27\n# 25 reburned 27\n\nfireHS2 &lt;-  fire %&gt;%\n  select(c(year, fireId)) %&gt;%\n  filter(fireId %in% as.numeric(str_sub(colnames(fire_mapsHS2), -2))) \n\nfireHS2\n\n# A tibble: 3 × 2\n   year fireId\n  &lt;int&gt;  &lt;int&gt;\n1   229     22\n2   273     24\n3   290     26\n\n\nNow, I want to use the row id numbers from the fire_mapsHS object to filter out rows in the sapling and stand output that burned at high severity. The following code loops through each of the fire maps, extracting the resource unit ID numbers, the fire ID and the fire year (which come from the default fire output) and compiling into a dataframe, fireID. What fraction of the landscape burned at high severity? (ie, how many resource units?)\n\nfireID &lt;- data.frame()\n\nfor (i in 1:nrow(fire100)) {\n  \n  # Skip fires that burned nothing\n  if (fire100$area_m2[i] &gt; 0) {\n  \n    mask &lt;- fire_mapsHS[[paste0(\"dead_\", fire100$fireId[i])]]\n    \n    # Use the mask to extract the rids for burned grids\n    burned_rids &lt;- as.data.frame(mask(env.grid, mask))\n    burned_rids= burned_rids%&gt;%filter(!is.na(env.grid))\n    burned_rids$year=fire100$year[i]\n    burned_rids$fireID = fire100$fireId[i]\n  }\n  \n  fireID = rbind(fireID, burned_rids)\n}\n\nfireID = fireID %&gt;% rename(\"rid\" = env.grid, \"fire.year\" = year)\n\n\n# how many unique resource units are there?\ndomain &lt;- ncell(env.grid) # dimensions are 239 by 255 \n\n# how many resource units burned at HS?\nlength(unique(fireID$rid)) \n\n[1] 622\n\n# so, what %?\n(length(unique(fireID$rid)) / domain) *100\n\n[1] 1.020592\n\n\nSo, only about 1% of the landscape burned at high severity across the 100 year simulation window. (Though, technically that would be an underestimate since it doesn’t take into account the resource units that reburned)."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#setting-tufte-theme",
    "href": "posts/Draft_WebsiteBuild/index.html#setting-tufte-theme",
    "title": "How I built my site",
    "section": "Setting Tufte Theme",
    "text": "Setting Tufte Theme\nTo use a Tufte-style theme in the blog posts, I’ve added the following code to my _metadata.yml file within the posts folder:\n{# Default for Tufte Style} format:   html:     toc: true     toc-title: Contents     toc-location: left     grid:       margin-width: 350px reference-location: margin citation-location: margin"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#packaging-data-for-blog-posts",
    "href": "posts/Draft_WebsiteBuild/index.html#packaging-data-for-blog-posts",
    "title": "How I built my site",
    "section": "Packaging data for blog posts",
    "text": "Packaging data for blog posts\nI tend to work with some large files, and work across multiple desktops. In order to pull in data for individual blog posts, I’ve been playing with using save.image() to collect all the files in an analysis, and save an .RData file in a folder I can reference from the blog quarto document.\nOne quirk I haven’t sorted out yet - save.image() doesn’t save SpatRaster objects. Not sure how to deal with this yet."
  }
]