[
  {
    "objectID": "blog.html",
    "href": "blog.html",
    "title": "Blog",
    "section": "",
    "text": "How much of Alaska is a National Wildlife Refuge?\n\n\nMapping in terra\n\n\n\nSpatial Data Analysis\n\n\n\nFt. pretty maps\n\n\n\n\n\nOct 14, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nHow much does a moose weigh?\n\n\nThe rabbit holes of model parameterization\n\n\n\nModel Parameterization\n\n\niLand\n\n\nBITE\n\n\n\n\n\n\n\n\n\nSep 23, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nCalculating light availability from fisheye photos\n\n\nHow to use the package hemispheR\n\n\n\nSpatial Data Analysis\n\n\nWorkflow\n\n\n\nFt. pretty pictures\n\n\n\n\n\nAug 19, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nBenchmarking Reburning in iLand\n\n\nPart One in a Series on iLand benchmarking\n\n\n\nSpatial Data Analysis\n\n\niLand\n\n\nBenchmarking\n\n\n\nUsing terra to quantify overlaps in fire perimeter rasters\n\n\n\n\n\nMay 28, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nFiltering MTBS perimeters by severity\n\n\na primer on Alaska Fire Perimeter Data\n\n\n\nSpatial Data Analysis\n\n\n\n\n\n\n\n\n\nApr 16, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nResearch Workflow\n\n\nHow I structure my notes and citations\n\n\n\nWorkflow\n\n\n\nNotes on notes\n\n\n\n\n\nApr 15, 2024\n\n\n\n\n\n\n\n\n\n\n\n\nHow I built my site\n\n\nMigrating from blogdown to Quarto\n\n\n\nWorkflow\n\n\n\nBreaking the fourth wall\n\n\n\n\n\nApr 15, 2024\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "iLand_landing.html",
    "href": "iLand_landing.html",
    "title": "Working with iLand Output",
    "section": "",
    "text": "Benchmarking Reburning in iLand\n\n\nPart One in a Series on iLand benchmarking\n\n\nUsing terra to quantify overlaps in fire perimeter rasters\n\n\n\n\n\nMay 28, 2024\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Katherine Hayes",
    "section": "",
    "text": "I’m an ecosystem ecologist and currently an NSF Postdoctoral Scientist at the Cary Institute of Ecosystem Studies. I work in the intersection of paleoecology, landscape and disturbance ecology, studying how ecosystems change over time and space.\nI’m interested in how changing disturbance regimes alter ecosystems and how we can make science more open and accessible.\n\n\nPh.D in Integrated & Systems Biology University of Colorado Denver | Denver, CO\nM.S. in Geography University of Oregon | Eugene, OR\nB.S. in Geography, Spanish and Environmental Studies University of Wisconsin Madison | Madison, WI"
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Katherine Hayes",
    "section": "",
    "text": "Ph.D in Integrated & Systems Biology University of Colorado Denver | Denver, CO\nM.S. in Geography University of Oregon | Eugene, OR\nB.S. in Geography, Spanish and Environmental Studies University of Wisconsin Madison | Madison, WI"
  },
  {
    "objectID": "posts/param_series/Draft_MooseWeight/index.html",
    "href": "posts/param_series/Draft_MooseWeight/index.html",
    "title": "How much does a moose weigh?",
    "section": "",
    "text": "AKA - a field ecologist discovers how heartbreaking it is to bury the enormity of work required to parameterize and benchmark a model into the supplement section of a paper\nAs part of my NSF Postdoctoral Fellowship exploring interactions between fire and biotic disturbances in Interior Alaska, I’ve been parameterizing moose and hare for the model iLand using the biotic disturbance model BITE. This has lead to some interesting conversations over the last few months - several unsuspecting new introductions at conferences have stared at me, slightly blankly, before asking “so, there are tiny moose in your model?”1\nBITE (full name: BIotic disTurbance Engine) is a module built by the very smart Juha Honkankiemi (LUKE) and Werner Rammer (Technical University of Munich) to simulate a whole world of biotic disturbances (Honkaniemi, Rammer, and Seidl 2021).\nThe term “biotic disturbances” is itself, a catchall - megafauna like moose or mastodons are biotic disturbances, insects like aspen leaf miner or emerald ash borer are biotic disturbances, fungi-driven pathogens like aspen running canker are biotic disturbances. Called “agents” for short, each of these types of disturbances occur in very different ways across very different scales - if we assume that mastodons behaved similarly to modern elephants, they might have traveled up to 35 miles within a day, while emerald ash borer are creeping across the United States at a pace of a half a mile a year (assuming they don’t get into your firewood).\nWhile a landscape model might be able to easily represent an individual mastodon roaming across a landscape, modeling each individual fungi spore across a landscape is absolutely not possible computationally. To deal with this, BITE represents agents in units of biomass. Kilograms of mastodon move across cells within the model, uprooting kilograms of trees and consuming kilograms of spruce needles before falling into kilograms of tar pits2.\nThis means you have two key decisions to make when starting to parameterize a new agent:\nAnswering both is complicated."
  },
  {
    "objectID": "posts/param_series/Draft_MooseWeight/index.html#okay-but-k8-how-many-moose",
    "href": "posts/param_series/Draft_MooseWeight/index.html#okay-but-k8-how-many-moose",
    "title": "How much does a moose weigh?",
    "section": "Okay, but k8, how many moose?",
    "text": "Okay, but k8, how many moose?\nAccording to Alaska Fish and Game, there are an estimated 175,000 moose in Alaska.\nThose 175,000 are spread out in densities anywhere from 1 to 150 moose per 30 square miles7. That’s over the entire state however, including tundra where moose can be quite scarce.\n7 that’s 0.003 -5 moose per square mile\n\n\n\nGame Unit\nPopulation\nDensity (moose per mi2)\nReport\n\n\n\n\n\n12\n5,467-7,657\n0.9 - 1.28\n2015 - 2020\n\n\n\n19\n1,353\n0.04\n2010 - 2015\n\n\n\n20\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe landscape I’m modeling contains the Caribou Poker Creek Research Watershed, which falls within Game Unit 20A of the Alaska Dept. of Fish and Game.\n\n\n\nGame Management Units across Alaska, source: Alaska Department of Fish and Game\n\n\nAccording to their most recent report, they counted 1,395 moose in 2019, 79% of which were adults. Correcting for sightability, they estimate the total population is between 9,581 and 13,959 moose across 20A, or 2.3 moose per square mile.\nThat brings us to the second question."
  },
  {
    "objectID": "posts/param_series/Draft_MooseWeight/index.html#what-do-moose-weigh-in-alaska",
    "href": "posts/param_series/Draft_MooseWeight/index.html#what-do-moose-weigh-in-alaska",
    "title": "How much does a moose weigh?",
    "section": "What do moose weigh in Alaska?",
    "text": "What do moose weigh in Alaska?\nGoogling how much does a moose weigh alaska leads to a page from the Alaska Department of Fish and Game that gives moose an average weight of 550 kilograms. They cite (Bishop 1988), who puts bull moose between 540 - 680 kilograms and cows between 360 - 590 kg in Alaska.\n\nBishop, Richard H. 1988. “The Moose in Alaska.” In, 494–512. Elsevier. https://linkinghub.elsevier.com/retrieve/pii/B978012041001950025X.\n9 moose often put on weight in the summer, reaching “peak body mass” in the fall in preparation for the long winter (Mautz 1978, Adamczewski et al. 1987, Schwartz et al. 1987)10 this is how manifestation works, right?Obviously body mass also varies across a season9, across age, or depending on predator pressure. But this is the point at which I get to pull the time-honored card of not in the scope of the research, and move on. Maybe, if moose appear to have a critical role mitigating the impact of fire on Alaskan forests, someone will give me funding to build a more complicated model of moose population dynamics, maybe one that incorporates twinning rates and body mass10.\nThe number of calves they produce depends in turn on the conditions that year - was there enough food? was it warm enough?\nSo, if moose weight depends on the gender ratio across the population, what’s the gender ratio of the moose population in Alaska? Surprisingly, we have a good grasp of this - hunting targets male moose, so populations are maintained at a level of &gt;25 bulls per 100 cows (after hunting)."
  },
  {
    "objectID": "posts/param_series/Draft_MooseWeight/index.html#what-do-moose-weigh-in-the-model",
    "href": "posts/param_series/Draft_MooseWeight/index.html#what-do-moose-weigh-in-the-model",
    "title": "How much does a moose weigh?",
    "section": "What do moose weigh in the model?",
    "text": "What do moose weigh in the model?\nBut, the model needs a single number. And iLand doesn’t represent seasons. Nor population demographics (at least not yet). So, to maintain my sanity make some simplifying assumptions, I’ll take a weighted average.\nI’ll start by assuming an average calf weighs XX kilograms, a cow weighs 447.5 kg and a bull weighs 683.5 kg. Assuming 20% of the populations are calves, and there’s a 3:10 ratio of cows to bulls within adults, I can take a weighted average.\nIf, according to Fish and Game, there are 2.3 moose per square mile in Game Unit 20A, that means there are XX moose in my 60,000 acre model landscape.\nSo, in the BITE script for moose, I now have a line that looks like this:\ninitialAgentBiomass: 5.95 * 465 // initial agent biomass in each cell calculated assuming moose density to be 0.95 animals per 1 km2 (152 per 1000) * average mass of 465 kg (estimated) per animal"
  },
  {
    "objectID": "posts/param_series/Draft_MooseWeight/index.html#session-info",
    "href": "posts/param_series/Draft_MooseWeight/index.html#session-info",
    "title": "How much does a moose weigh?",
    "section": "Session Info",
    "text": "Session Info\n\nsessionInfo()\n\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sonoma 14.0\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: America/Chicago\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.4.1    fastmap_1.2.0     cli_3.6.3        \n [5] tools_4.4.1       htmltools_0.5.8.1 yaml_2.3.10       rmarkdown_2.28   \n [9] knitr_1.48        jsonlite_1.8.9    xfun_0.47         digest_0.6.37    \n[13] rlang_1.1.4       evaluate_1.0.0"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html",
    "href": "posts/Draft_WebsiteBuild/index.html",
    "title": "How I built my site",
    "section": "",
    "text": "There’s tons of resources out there for how to built a personal website as an academic, made by folks with actual expertise in web design, coding, etc.\nI’d wanted to start my own blog / digital garden for years. Initially, the roadblock was imposter syndrome - did I actually have anything to write about? Would it be useful to anyone? isn’t it all a bit cringe?1\nOnce those worries were shouted down overcome, the main roadblock became technical know-how. I originally developed my website using a bundle of tools including blogdown, github, netlify all centered around the very popular academic theme from hugo. I’ve had it for years now, but it was heavy-lifting - building it took what felt like a week of work back in 2020, and I couldn’t update easily without having to relearn the folder structure rules each time.\nOriginally, I wanted to tweak the theme, add some blog pages and be done with it, but writeups like this from Maelle Salmon discussing hugo theme maintenance and this one from Alison Hill on Quarto made me wonder if there was a better way.\nThe straw that broke the camel’s back was vanity the Tufte theme that’s possible in Quarto - per the requirements of receiving a degree in geography, my copy of Visual Display of Quantitative Information lives on my coffee table. Adding Tufte’s beautiful sidenotes and column spacing is as easy as adding a line or two of yaml in Quarto and opens up a whole new world of snarky asides2."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#switching-from-blogdown-to-quarto",
    "href": "posts/Draft_WebsiteBuild/index.html#switching-from-blogdown-to-quarto",
    "title": "How I built my site",
    "section": "Switching from blogdown to quarto",
    "text": "Switching from blogdown to quarto\n\nInitiating a quarto website\nInitiating a Quarto website is shockingly easy. Working from Rstudio, you simply open a New Project, select Quarto Website, name it something new and click Render to preview.\nYour Rstudio will look like this:\n\n\n\na brand new quarto website\n\n\nAnd your render will look like this:\n\n\n\noff to the races\n\n\nThat’s it. 4 steps, and you’re previewing a website with a landing page, a menu bar and two pages. Now, your render won’t be hosted anywhere but locally, but already that’s a much more easy entry than the one I remember from Hugo.\n\n\nTo add a blog:\nTo add a blog6, or any pages that will live under a different landing page than the home page, add the following steps:\n6 You can also create a “Quarto Blog” instead of “Quarto Website” by going to New Project - I just wanted to figure out how to do it by hand so I knew how to initiate other website pages down the line\nCreate a landing page\n\nInitiate a quarto file for your landing page and call it something like blog.qmd\nWithin blog.qmd, add the following lines to the yaml code at the top:\n\nlisting:\n  contents: posts\n  sort: \"date desc\"\n  type: default\n  categories: true\n  sort-ui: false\n  filter-ui: false\nNow, you’ll need to add it to your site navigation:\n\nNavigate to your _quarto.yml file which should have been created when you initiated the New Website process above\nYou should see yml code - mine looks like the following:\n\nproject:\n  type: website\n\nwebsite:\n  title: \"Katherine Hayes\"\n  navbar:\n    right:\n      - text: \"About Me\"\n        file: about.qmd\n    \nformat:\n  html:\n    theme: cosmo\n    css: styles.css\n    toc: false\n\neditor: visual\n\nUnder navbar, add lines that specify text and file similar to the example above (so, probably text: “Blog” and file: blog.qmd)\nCreate a folder called posts - your posts will live here, within individual folders\nWithin posts, each folder will contain an index.qmd file for the blog post\n\n\n\nWriting a blog post\n\n\nHow to make a Series\nTo publish blog posts in a series, they need to be located in a subdirectory of the posts folder. You’ll also need a landing page. I’m writing up a series of posts on some of the model parameterization work I’ve done recently for my fire-herbivory project, so I named my series folder posts/param_series and added a landing page named param_landing.gmd (I know, creative). Make sure the landing page is located in the top directory, the one where your about / index / blog quarto documents are located.\nWithin the landing page,\ntitle: \"Series: ggplot2-tips\"\nlisting:\n  contents: posts/ggplot2-tips\n  sort: \"date desc\"\n  type: default\n  categories: false\n  sort-ui: false\n  filter-ui: false\n  fields: [date, title, reading-time, description]\npage-layout: full\ntitle-block-banner: true\nYou’ll need to modify the contents: setting within your blog.qmd file so it sees the contents of the series folder. You can do this using glob syntax - a very fun name for what essentially means “global patterns”. ** can be used to tell quarto to look within any folder, and *.qmd will select any quarto document.\nThus, you can then change your blog yml from:\ntitle: \"Blog\"\nsubtitle: \"An attempt at a digital garden / notebook\"\nlisting:\n  contents: posts\nTo this:\ntitle: \"Blog\"\nsubtitle: \"An attempt at a digital garden / notebook\"\nlisting:\n  contents: \n  - posts/**/*.qmd\n  - posts/**/**/*.qmd\nAnd it should catch any quarto documents within the nested folders."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#switching-netlify-hosts",
    "href": "posts/Draft_WebsiteBuild/index.html#switching-netlify-hosts",
    "title": "How I built my site",
    "section": "Switching netlify hosts",
    "text": "Switching netlify hosts\nMy old website was already hosted on Netlify, and I wanted to hold on to the same domain.\nInitially, I started my Quarto website in a folder adjacent to the folder containing my existing website. When it came time to migrate, I copied my old website folders into an archive, and then replaced them with the new quarto folders (keeping the same Rproj file). Then I held my breath and pushed changes.\nAfter that, I needed to mollify Netlify - I disconnected"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#draft-false---publishing-posts",
    "href": "posts/Draft_WebsiteBuild/index.html#draft-false---publishing-posts",
    "title": "How I built my site",
    "section": "draft: false - Publishing posts",
    "text": "draft: false - Publishing posts\nI ran into some trouble at first with draft: true - once you’ve added it to the the yml code at the top of your quarto document, you’ll need to delete it entirely to get the post show up once you’re ready to publish."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#adding-pictures-to-the-background-of-title-blocks",
    "href": "posts/Draft_WebsiteBuild/index.html#adding-pictures-to-the-background-of-title-blocks",
    "title": "How I built my site",
    "section": "Adding pictures to the background of title blocks",
    "text": "Adding pictures to the background of title blocks"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#setting-global-blog-post-theme",
    "href": "posts/Draft_WebsiteBuild/index.html#setting-global-blog-post-theme",
    "title": "How I built my site",
    "section": "Setting global blog post theme",
    "text": "Setting global blog post theme\nYou can use the _metadata.yml file to set options for all the files in the posts folder.\nMine looks like this:\n# freeze computational output\n# (see https://quarto.org/docs/projects/code-execution.html#freeze)\nfreeze: true\n\n# Enable banner style title blocks\ntitle-block-banner: true\n\n# Default for Tufte Style\nformat:\n  html:\n    toc: true\n    toc-title: Contents\n    toc-location: left\n    grid:\n      margin-width: 350px\nreference-location: margin\ncitation-location: margin\n\n# Adding comment sections\ncomments: \n  utterances: \n    repo:  k8hayes/BlogComments"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#new-post-template",
    "href": "posts/Draft_WebsiteBuild/index.html#new-post-template",
    "title": "How I built my site",
    "section": "New Post Template",
    "text": "New Post Template\nTo make starting new posts easy, I added a folder to my posts folder called NewPostTemplate - the index file within has the following settings:\n---\ntitle: \"New Post Title\"\nsubtitle: \"New Post Subtitle\"\ndate: today\ncategories: []\ndate-modified: last-modified\ndraft: true\n---\nThen, I can simply make a copy of that folder to start a new post. Make sure to update the date to the publication date once it’s finalized - using today and last-modified in the internal workings of the quarto document is not really considered best practice, since it means more rendering in the background (per the Quarto documentation)."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#adding-comment-sections",
    "href": "posts/Draft_WebsiteBuild/index.html#adding-comment-sections",
    "title": "How I built my site",
    "section": "Adding Comment Sections",
    "text": "Adding Comment Sections\nI’m still figuring out how to add comments to the blog. There appears to be"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#setting-tufte-theme",
    "href": "posts/Draft_WebsiteBuild/index.html#setting-tufte-theme",
    "title": "How I built my site",
    "section": "Setting Tufte Theme",
    "text": "Setting Tufte Theme\nTo use a Tufte-style theme in the blog posts, I’ve added the following code to my _metadata.yml file within the posts folder:\n{# Default for Tufte Style} format:   html:     toc: true     toc-title: Contents     toc-location: left     grid:       margin-width: 350px reference-location: margin citation-location: margin"
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#packaging-data-for-blog-posts",
    "href": "posts/Draft_WebsiteBuild/index.html#packaging-data-for-blog-posts",
    "title": "How I built my site",
    "section": "Packaging data for blog posts",
    "text": "Packaging data for blog posts\nI tend to work with some large files, and work across multiple desktops. In order to pull in data for individual blog posts, I’ve been playing with using save.image() to collect all the files in an analysis, and save an .RData file in a folder I can reference from the blog quarto document.\nOne quirk I haven’t sorted out yet - save.image() doesn’t save SpatRaster objects. Not sure how to deal with this yet."
  },
  {
    "objectID": "posts/Draft_WebsiteBuild/index.html#session-info",
    "href": "posts/Draft_WebsiteBuild/index.html#session-info",
    "title": "How I built my site",
    "section": "Session info",
    "text": "Session info\n\nsessionInfo()\n\nR version 4.3.3 (2024-02-29)\nPlatform: aarch64-apple-darwin20 (64-bit)\nRunning under: macOS Sonoma 14.0\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: America/Chicago\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.3.3    fastmap_1.1.1     cli_3.6.2        \n [5] tools_4.3.3       htmltools_0.5.8   rstudioapi_0.16.0 yaml_2.3.8       \n [9] rmarkdown_2.26    knitr_1.45        jsonlite_1.8.8    xfun_0.43        \n[13] digest_0.6.35     rlang_1.1.3       evaluate_0.23"
  },
  {
    "objectID": "posts/Post_MTBS/index.html",
    "href": "posts/Post_MTBS/index.html",
    "title": "Filtering MTBS perimeters by severity",
    "section": "",
    "text": "As part of my work with the Past, Present and Future of Boreal Feedbacks project, this summer I’ll be sampling forest composition and structure in forests that have reburned. One of our early goals with this project was to sample reburned forests off the road system - in part because they tend to go unsampled for obvious reasons1, and in part because we’re combining modern observations of reburned forests with lake sediment records that provide context on the last 2,500 years of forest composition, and those lakes are off the road system.\nFunctionally, that means helicopter work (!!). Going into it, I was blinded a bit by the excitement of flying helicopters (beautiful views!!), and hadn’t braced myself for some of the challenges (also dangerous!!). It added pressure to picking field sites: helicopters can only land in so many spots, and it’s an expensive privilege, so you can’t just wander into the woods and pick a spot2.\nI’ve been digging through fire perimeter datasets, trying to locate fires that overlap."
  },
  {
    "objectID": "posts/Post_MTBS/index.html#monitoring-trends-in-burn-severity-mtbs",
    "href": "posts/Post_MTBS/index.html#monitoring-trends-in-burn-severity-mtbs",
    "title": "Filtering MTBS perimeters by severity",
    "section": "Monitoring Trends in Burn Severity (MTBS)",
    "text": "Monitoring Trends in Burn Severity (MTBS)\nMTBS data consists of burn severity and extent information on large fires4 across the US from 1984 to the present. Both burn severity and fire extent are derived from Landsat or Sentinel-2 data at a spatial resolution of 30 meters and a temporal resolution of 16 days or so - images are constructed pre- and post-fire to compare Normalized Burn Ratio (NBR) or Differenced Normalized Burn Ratio (dNBR). From there, MTBS depicts severity as a gradient of vegetation response from low (not much vegetation response) to high (potentially complete combustion of vegetation)5.\n4 defined here as 1,000 acres or bigger in the Western US5 with additional categories for unburned, increased greenness or outliers caused by clouds, shadows, water bodies, etc"
  },
  {
    "objectID": "posts/Post_MTBS/index.html#difference-between-alfd-and-mtbs",
    "href": "posts/Post_MTBS/index.html#difference-between-alfd-and-mtbs",
    "title": "Filtering MTBS perimeters by severity",
    "section": "Difference between ALFD and MTBS",
    "text": "Difference between ALFD and MTBS\nAlaska Large Fire Database has been assumed to overestimate burned area within mapped fire events (Chen et al. 2021), and produces consistently higher estimates of area burned across Alaska compared to MTBS.\n\nChen, Dong, Varada Shevade, Allison Baer, and Tatiana V. Loboda. 2021. “Missing Burns in the High Northern Latitudes: The Case for Regionally Focused Burned Area Products.” Remote Sensing 13 (20): 4145. https://doi.org/10.3390/rs13204145.\nIn contrast, MTBS excludes fires less than 1,000 acres, so there are clear reasons to believe it underestimates burned area.\nUnderstanding the strengths and drawbacks of both is important - in the context of reburning, MTBS is a particularly useful database - older fire perimeters from ALFD become less precise (cite), sometimes overestimating where the fires overlapped (Buma et al. 2022).\n\nBuma, B., K. Hayes, S. Weiss, and M. Lucash. 2022. “Short-Interval Fires Increasing in the Alaskan Boreal Forest as Fire Self-Regulation Decays Across Forest Types.” Scientific Reports 12 (1): 4901. https://doi.org/10.1038/s41598-022-08912-8.\n[Brief aside on self-regulating fire]"
  },
  {
    "objectID": "posts/Post_MTBS/index.html#session-info",
    "href": "posts/Post_MTBS/index.html#session-info",
    "title": "Filtering MTBS perimeters by severity",
    "section": "Session Info",
    "text": "Session Info\n\nsessionInfo()\n\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sonoma 14.0\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: America/Chicago\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] sf_1.0-16    terra_1.7-78\n\nloaded via a namespace (and not attached):\n [1] digest_0.6.37      codetools_0.2-20   fastmap_1.2.0      xfun_0.47         \n [5] magrittr_2.0.3     e1071_1.7-14       KernSmooth_2.23-24 knitr_1.48        \n [9] htmltools_0.5.8.1  rmarkdown_2.28     classInt_0.4-10    cli_3.6.3         \n[13] grid_4.4.1         DBI_1.2.3          proxy_0.4-27       class_7.3-22      \n[17] compiler_4.4.1     rstudioapi_0.16.0  tools_4.4.1        evaluate_1.0.0    \n[21] Rcpp_1.0.13        yaml_2.3.10        rlang_1.1.4        jsonlite_1.8.9    \n[25] htmlwidgets_1.6.4  units_0.8-5"
  },
  {
    "objectID": "posts/Draft_ResearchWorkflow/index.html",
    "href": "posts/Draft_ResearchWorkflow/index.html",
    "title": "Research Workflow",
    "section": "",
    "text": "I’ve played around with many different research workflows over the years - physical notebooks, notes stored in infinite word documents, color-coded index cards when I was a brand new undergraduate writing my first research paper. I’ve gone back and forth since then about whether following a system is a really important tool or whether it’s a particularly creative procrastination technique. I’d like to think I’ve found a middle ground. My current system is automated as much as possible to cut down on the busy work of maintaining the workflow itself."
  },
  {
    "objectID": "posts/Draft_ResearchWorkflow/index.html#saving-filing-and-reading-articles",
    "href": "posts/Draft_ResearchWorkflow/index.html#saving-filing-and-reading-articles",
    "title": "Research Workflow",
    "section": "Saving, filing and reading articles",
    "text": "Saving, filing and reading articles\nI import articles into zotero using the chrome extension, organize it roughly in a folder, and read it in PDF form within zotero on a tablet (which, now thanks to Zotero 6, syncs and saves highlights and annotations across devices).\nFrom there, the Citations plug-in allows me to link my Obsidian notes to the zotero entry using citekeys generated by betterbibtex."
  },
  {
    "objectID": "posts/Draft_ResearchWorkflow/index.html#some-examples-of-similar-workflows",
    "href": "posts/Draft_ResearchWorkflow/index.html#some-examples-of-similar-workflows",
    "title": "Research Workflow",
    "section": "Some examples of similar workflows:",
    "text": "Some examples of similar workflows:\n\nhttps://martinezponciano.es/2021/04/05/research-workflow-as-a-phd-student-in-the-humanities/\nhttps://wippp.com/blog/taekman-zettelkasten-workflow-2023-using-devonthink-drafts-and-obsidian\nhttps://nicolevanderhoeven.com/blog/20210518-how-i-use-obsidian-at-work/#the-easier-way\nhttps://thesiswhisperer.com/2023/02/01/building-a-second-brain-for-writing-with-obsidian/\nhttps://notes.nicolevanderhoeven.com/obsidian-playbook/Using+Obsidian/01+First+steps+with+Obsidian/Obsidian\nhttps://notes.nicolevanderhoeven.com/sources/Presentation/Mine/The+Lost+Art+of+Taking+Good+Notes"
  },
  {
    "objectID": "posts/Draft_ResearchWorkflow/index.html#a-full-list-of-tools",
    "href": "posts/Draft_ResearchWorkflow/index.html#a-full-list-of-tools",
    "title": "Research Workflow",
    "section": "A full list of tools",
    "text": "A full list of tools\n\nObsidian\nObsidian Citation plug in\nbetterbibtex - creates citekeys that link zotero items to obsidian notes\nZotero\nZotero Chrome Extension - saves articles to zotero libraries within Chrome"
  },
  {
    "objectID": "research.html",
    "href": "research.html",
    "title": "Research",
    "section": "",
    "text": "As a forest and ecosystem ecologist, I work in the intersection of paleoecology, landscape ecology and disturbance ecology, using field, lab, and modeling tools. My research is driven by three underlying questions:\n\nHow do changing disturbance regimes alter forest structure and function?\nHow can historical and paleoecologic data be integrated with modeling to anticipate future change?\nWhat are the implications of human interventions in changing disturbance regimes?\n\nTo answer those questions, I work across a variety of systems, timescales and disciplines.\n\nHow do changing disturbance regimes alter forest structure and function?\nBoreal forest fire frequency has increased in recent decades, causing fire return intervals in some regions to decline from 75-300 years to 30 years or less. Untangling the impact of shorter fire return intervals in boreal forests is critical for anticipating implications for global carbon cycling: shorter intervals between fires disadvantage slower-growing serotinous conifer species but those same conifers produce thick soil organic layers that insulate carbon-rich permafrost. During my PhD, I investigated how short-interval fires altered forest composition, forest carbon and forest structure in boreal Interior Alaska. I quantified forest regeneration in stands that burned once, twice, or three times within 30 years or less, the first empirical study of boreal forests that have experienced three short-interval fires. I demonstrated that reburns drive shifts in forest composition from conifer to deciduous, even in previously-resilient forest types (Hayes and Buma 2021) and showed that reburning leads to losses in soil carbon that offset gains made from faster-growing deciduous species (Hayes et al., in revision at Global Change Biology).\nWhile studying carbon in boreal forests, I started to wonder about the effects of heavy browsing by moose and hare, and the extreme mortality caused by pests and pathogens like aspen leaf miner and canker. I was awarded an NSF Postdoctoral Fellowship to investigate how emerging biotic disturbances like herbivores and insect outbreaks interact with increasing fire frequency to shape ecosystem structure and function in high-latitude forests. Warming temperatures increase the distribution and abundance of biotic agents like aspen leaf miner and canker. Yet relatively little is known about their impact on forest structure and function, particularly when they interact with fire or intense browsing by mammalian herbivores. These disturbances and their interactions could fundamentally alter boreal forests. Working with collaborators at the Cary Institute of Ecosystem Studies and the University of Saskatchewan, I combine landscape simulation modeling with existing empirical data to test mechanistic hypotheses about fire-biotic interactions and their impact on boreal forest succession and carbon. I work with groups like the Bonanza Creek Long Term Ecological Research Program to synthesize existing spatial and non-spatial datasets on biotic disturbances and model how organisms like moose, hare, aspen leaf miner and others alter forest composition and carbon through interactions with fire and warming climate.\n\n\nHow can historical and paleoecologic data be integrated with modeling to anticipate future change?\nIncreasing fire is driving transformations of boreal forest composition from conifer to broadleaf species. Paleoecologic data hints at the presence of self-regulation, negative feedbacks to fire, a process enabled by an increased dominance of broadleaf species, historically considered less flammable. But it remains unclear whether paleoecologic environments are good analogs for current boreal forests, and whether shifts in forest structure and composition will enable different fire behavior under increasing temperatures. Working with collaborators at the Environmental Defense Fund, Colorado State University, and the University of Montana, I pair empirical measurements of forest structure and composition with late Holocene pollen and charcoal records from lake sediments to test for the possibility, strength or duration of fire self-regulation via increased broadleaf species. As a co-PI on the project, I lead our field measurements, quantifying forest structure and composition in broadleaf stands in boreal forests, data that will be coupled with state-of-the-art physics-based combustion models to examine potential fire behavior (more project details here). Our preliminary fire behavior modeling work has shown that fire spread in reburned landscapes is limited by both fuel and fire weather constraints (link to MS), at least within the first several decades after fire (Buma et al. 2022). \nIn addition to my ecological research, I’m very interested in how we do science. While mentoring field assistants as a graduate student, I became passionate about issues of safety and diversity in field research, particularly for early-career scientists. I believe conducting and leading fieldwork is part of the ‘hidden curriculum’ of many natural science programs – field research is a critical part of completing many natural science degrees, but opportunities for developing the leadership and management skills required to lead field research safely are limited and often informal (Reichenborn et al. 2024). I developed a survey, asking the natural science community for their perception of the key skills required to lead a field season safely and responsibly. Using the recommendations provided, my colleagues and I produced suggestions for graduate students who lead fieldwork. We also provided suggestions for ways that principal investigators, labs and departments could support graduate fieldwork, including more formal training in skills like wilderness first aid, bystander intervention and conflict resolution (Hayes et al. 2022).\nIf you’re interested in hearing me talk more about my work, I’ve given public seminars at the Cary Institute of Ecosystem studies (link seminar here).\n\n\n\n\n\nReferences\n\nBuma, B., K. Hayes, S. Weiss, and M. Lucash. 2022. “Short-Interval Fires Increasing in the Alaskan Boreal Forest as Fire Self-Regulation Decays Across Forest Types.” Scientific Reports 12 (1): 4901. https://doi.org/10.1038/s41598-022-08912-8.\n\n\nHayes, Katherine, and Brian Buma. 2021. “Effects of Short-Interval Disturbances Continue to Accumulate, Overwhelming Variability in Local Resilience.” Ecosphere 12 (3). https://doi.org/10.1002/ecs2.3379.\n\n\nHayes, Katherine, Trevor Carter, Phoebe Cook, Erin Twaddell, and Brian Buma. 2022. “Supporting Graduate Field Leadership Through Community-Sourced Advice, Action, and Policy.” Ecosphere 13 (9). https://doi.org/10.1002/ecs2.4247.\n\n\nReichenborn, Molly M., Caitlin Rottler, Lina Aragón, Tara B. B. Bishop, Katherine Hayes, Ezra Kottler, Michelle L. Talal, and Pacifica Sommers. 2024. “Advice From the Field: Practical Skills, Challenges, and How to Support Early Career Ecologists.” The Bulletin of the Ecological Society of America 105 (2). https://doi.org/10.1002/bes2.2127."
  },
  {
    "objectID": "posts/Post_MappingRefuges/index.html",
    "href": "posts/Post_MappingRefuges/index.html",
    "title": "How much of Alaska is a National Wildlife Refuge?",
    "section": "",
    "text": "We’re starting a new project to map carbon vulnerability and help land managers make decisions about carbon management in National Wildlife Refuges in Alaska.\nWhile Alaska is home to just 16 of the 570 refuges spread across the United States, according to the Friends of Alaskan Wildlife Refuge System, those 16 make up nearly 85% of the refuge system’s 95 million acres, clocking in at a cool 80 million acres of land.\nBut, Alaska is big. How much of the 80 million acres is NWR?\n\nlibrary(tidyverse)\nlibrary(terra)\nlibrary(tidyterra)\nlibrary(kableExtra)\n\nI’m loading a shapefile of the boundary of Alaska, originally sourced from a USGS dataset and reprojected to Alaska Albers in QGIS.\n\nalaska = vect(\"/Users/katherinehayes/Google Drive/Work/Website/krhayes.com/posts/Post_MappingRefuges/data/AK_boundary.shp\")\ncrs(alaska)\n\n[1] \"PROJCRS[\\\"NAD83 / Alaska Albers\\\",\\n    BASEGEOGCRS[\\\"NAD83\\\",\\n        DATUM[\\\"North American Datum 1983\\\",\\n            ELLIPSOID[\\\"GRS 1980\\\",6378137,298.257222101,\\n                LENGTHUNIT[\\\"metre\\\",1]]],\\n        PRIMEM[\\\"Greenwich\\\",0,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433]],\\n        ID[\\\"EPSG\\\",4269]],\\n    CONVERSION[\\\"Alaska Albers (meters)\\\",\\n        METHOD[\\\"Albers Equal Area\\\",\\n            ID[\\\"EPSG\\\",9822]],\\n        PARAMETER[\\\"Latitude of false origin\\\",50,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8821]],\\n        PARAMETER[\\\"Longitude of false origin\\\",-154,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8822]],\\n        PARAMETER[\\\"Latitude of 1st standard parallel\\\",55,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8823]],\\n        PARAMETER[\\\"Latitude of 2nd standard parallel\\\",65,\\n            ANGLEUNIT[\\\"degree\\\",0.0174532925199433],\\n            ID[\\\"EPSG\\\",8824]],\\n        PARAMETER[\\\"Easting at false origin\\\",0,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8826]],\\n        PARAMETER[\\\"Northing at false origin\\\",0,\\n            LENGTHUNIT[\\\"metre\\\",1],\\n            ID[\\\"EPSG\\\",8827]]],\\n    CS[Cartesian,2],\\n        AXIS[\\\"easting (X)\\\",east,\\n            ORDER[1],\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n        AXIS[\\\"northing (Y)\\\",north,\\n            ORDER[2],\\n            LENGTHUNIT[\\\"metre\\\",1]],\\n    USAGE[\\n        SCOPE[\\\"Topographic mapping (small scale).\\\"],\\n        AREA[\\\"United States (USA) - Alaska.\\\"],\\n        BBOX[51.3,172.42,71.4,-129.99]],\\n    ID[\\\"EPSG\\\",3338]]\"\n\nggplot() +\n  geom_spatvector(data = alaska) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nBut, I don’t need all of the jurisdictional distinctions. I can use the aggregate() function in terra to lose the detail.\n\nalaska = terra::aggregate(alaska, by = \"state_name\")\n\nggplot() +\n  geom_spatvector(data = alaska, fill = \"grey\", alpha = 0.75)+\n  theme_minimal()\n\n\n\n\n\n\n\n\nSo minimal! So elegant!\nNow I can bring in the National Wildlife Refuge shapefile:\n\nrefuge = vect(\"/Users/katherinehayes/Google Drive/Work/Website/krhayes.com/posts/Post_MappingRefuges/data/Boundaries_Refuge.shp\")\ncrs(refuge) = crs(alaska) # check that it has the same projection\n\nggplot() +\n  geom_spatvector(data = refuge,\n                  aes(fill = NWRNAME, color = NWRNAME)) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nWhat’s hard to tell from the plot above, is that the refuge spatial vector is made up of a ton of polygons.\n\nterra::nrow(refuge)\n\n[1] 5445\n\n\nSimilar to the state shapefile, I can aggregate so each refuge is represented by a single polygon:\n\nrefuge &lt;- terra::aggregate(refuge, by = \"NWRNAME\")\n\nterra::nrow(refuge)\n\n[1] 16\n\nggplot() +\n  geom_spatvector(data = refuge,\n                  aes(fill = NWRNAME, color = NWRNAME)) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n(The difference is again, mostly internal, but 5445 polygons down to 16 makes the object a bit easier to handle).\nI also want to use the full names for refuges, not the acronyms. Here’s an ifelse chain to rename them.\n\nrefuge = refuge %&gt;%\n  mutate(Name = ifelse(NWRNAME == \"akm\", \"Alaska Maritime\",\n                     ifelse(NWRNAME == \"akp\", \"Alaska Peninsula\",\n                          ifelse(NWRNAME == \"arc\", \"Arctic\",\n                               ifelse(NWRNAME == \"bch\", \"Bercharof\",\n                                    ifelse(NWRNAME == \"inn\", \"Innoko\",\n                                         ifelse(NWRNAME == \"izm\", \"Izembek\",\n                ifelse(NWRNAME == \"kan\", \"Kanuti\",\n                      ifelse(NWRNAME == \"kdk\", \"Kodiak\",\n                          ifelse(NWRNAME == \"kna\", \"Kenai\",\n                                ifelse(NWRNAME == \"kuk\", \"Koyukuk\",\n                                      ifelse(NWRNAME == \"now\", \"Nowitna\",\n                ifelse(NWRNAME == \"swk\", \"Selawik\",\n                     ifelse(NWRNAME == \"tet\", \"Tetlin\",\n                          ifelse(NWRNAME == \"tgk\", \"Togiak\",\n                               ifelse(NWRNAME == \"ykd\", \"Yukon Delta\",\"Yukon Flats\"))))))))))))))))\n\nNow I can go ahead and plot the NWR against the AK boundary:\n\nggplot() +\n  geom_spatvector(data = alaska, fill = \"grey\", alpha = 0.75, color = NA)+\n  theme_minimal() + \n  geom_spatvector(data = refuge, aes(fill = Name), \n                  color = NA, alpha = 0.9) + \n  scale_fill_manual(\n    values = c(\"#fbe183\", \"#f4c40f\", \"#fe9b00\", \"#d8443c\", \"#9b3441\",\n               \"#de597c\", \"#e87b89\", \"#e6a2a6\", \"#aa7aa1\", \"#9f5691\",\n               \"#633372\", \"#1f6e9c\", \"#abd9e9\", \"#2b9b81\", \"#92c051\", \"#1b7837\")) \n\n\n\n\n\n\n\n\nA few things: one, the map of Alaska isn’t terribly high-resolution - note the difference in coastline between the Alaska shapefile and the Alaska Peninsula NWR. I found a higher-resolution shapefile from the Alaska Department of Natural Resources, linked here. Let’s see if it makes a difference:\n\nalaska_hires = vect(\"/Users/katherinehayes/Google Drive/Work/Website/krhayes.com/posts/Post_MappingRefuges/data/AK_hires.shp\")\n\ncrs(alaska_hires) = crs(refuge)\n\n\nggplot() +\n  geom_spatvector(data = alaska_hires, fill = \"grey\", alpha = 0.75, color = NA)+\n  theme_minimal() + \n  geom_spatvector(data = refuge, aes(fill = Name), \n                  color = NA, alpha = 0.9) + \n  scale_fill_manual(\n    values = c(\"#fbe183\", \"#f4c40f\", \"#fe9b00\", \"#d8443c\", \"#9b3441\",\n               \"#de597c\", \"#e87b89\", \"#e6a2a6\", \"#aa7aa1\", \"#9f5691\",\n               \"#633372\", \"#1f6e9c\", \"#abd9e9\", \"#2b9b81\", \"#92c051\", \"#1b7837\")) \n\n\n\n\n\n\n\n\nMuch better!!\nNow, we can use the expanse() function in terra to calculate the area covered by polygons. I’ll start by testing it with the refuge shapefile. Here’s the raw output:\n\nround(expanse(refuge, unit = \"ha\", transform = FALSE) * 2.471)\n\n [1]  5759488  4918089 19848447  1457981  4566151   417387  1636779  1721743\n [9]  1985975  4498293  2056418  3220065   931457  4712266 24071626 11176296\n\n\n(nice that it calculates for each NWR) - and here’s a pretty table:\n\nnwr_names = c(\"Alaska Maritime\", \"Alaska Peninsula\",\"Arctic\",\n               \"Bercharof\", \"Innoko\",\"Izembek\",\"Kanuti\",\"Kodiak\",\n               \"Kenai\",\"Koyukuk\",\"Nowitna\",\"Selawik\",\"Tetlin\",\"Togiak\",\n               \"Yukon Delta\",\"Yukon Flats\")\n\nrefuge_acre = data.frame(NWR = nwr_names,\n                         acres = round(expanse(refuge,\n                                 unit = \"ha\", transform = FALSE) * \n                                   2.471))\n\nkable(refuge_acre)\n\n\n\n\nNWR\nacres\n\n\n\n\nAlaska Maritime\n5759488\n\n\nAlaska Peninsula\n4918089\n\n\nArctic\n19848447\n\n\nBercharof\n1457981\n\n\nInnoko\n4566151\n\n\nIzembek\n417387\n\n\nKanuti\n1636779\n\n\nKodiak\n1721743\n\n\nKenai\n1985975\n\n\nKoyukuk\n4498293\n\n\nNowitna\n2056418\n\n\nSelawik\n3220065\n\n\nTetlin\n931457\n\n\nTogiak\n4712266\n\n\nYukon Delta\n24071626\n\n\nYukon Flats\n11176296\n\n\n\n\n\nSome of the numbers are a bit different than what I found online: the Yukon Flats Wikipedia puts it at 8.6 million acres, while the US Fish and Wildlife website says it’s 11.1 million acres. There’s similar discrepancies with the Togiak - wikipedia says 4.1 million acres, Fish and Wildlife doesn’t specify but other travel sites says the 4.7 million acre number the shapefile shows.\nMy best working guess is the distinction between NWR and Wildnerness - the NWR shapefile may include areas of Wildnerness.\nSo, what is that combined?\n\nsum(round(expanse(refuge, unit = \"ha\", transform = FALSE)*2.471))\n\n[1] 92978461\n\n\n92 million acres - definitely larger than the website’s 80 million acre sum. Again, makes it seem like there’s wilderness areas within the shapefile.\nWorking with this file for now, how much of the State of Alaska is NWR?\n\nsum(round(expanse(refuge, unit = \"ha\", transform = FALSE)*2.471)) / \nsum(round(expanse(alaska_hires, unit = \"ha\", transform = FALSE)*2.471)) * 100\n\n[1] 24.92743\n\n\nSo, 25%. Considering the size of the state, that’s a tremendous amount of landscape."
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html",
    "title": "Benchmarking Reburning in iLand",
    "section": "",
    "text": "As part of my NSF Postdoc fellowship, I’ve been working on modeling herbivores in iLand using the biotic disturbance model BITE. In particular, I want to understand if biotic disturbances generally (and herbivores specifically) can interact with fire such that they modify forest composition or forest carbon at a landscape scale.\nThe following analysis started as an aside: I wanted to filter my simulation results to find modeled stands regenerating after fire so that I could compare age-growth relationships to those found in exclosure and other empirical studies of herbivory."
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#determining-which-fires-in-iland-were-stand-replacing",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#determining-which-fires-in-iland-were-stand-replacing",
    "title": "Benchmarking Reburning in iLand",
    "section": "Determining which fires in iLand were stand-replacing",
    "text": "Determining which fires in iLand were stand-replacing\nFirst, I need to determine which fires in my iLand run were “stand-replacing” -\nThe fire output in iLand produces a table of each fire, shown below.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nyear\nfireId\narea_plan_m2\narea_m2\niterations\ncoord_x\ncoord_y\nn_trees\nn_trees_died\nbasalArea_total\nbasalArea_died\npsme_died\navgFuel_kg_ha\nwindSpeed\nwindDirection\n\n\n\n\n6\n1\n9355921\n9359200\n95\n7390\n8810\n1106699\n1064982\n2388.6883\n2298.610\n0\n39755.37\n17.67204\n187.2722\n\n\n11\n2\n10613320\n10667600\n105\n18030\n23030\n535890\n514951\n2157.1445\n2067.686\n0\n55101.33\n16.16441\n254.2023\n\n\n18\n3\n66038024\n66571200\n256\n20110\n11130\n9971141\n8522890\n62771.2287\n53269.425\n0\n43763.40\n12.09752\n197.0730\n\n\n37\n4\n13235234\n13236000\n105\n16010\n8770\n1722762\n1362931\n15451.4867\n11253.633\n0\n40959.27\n23.64123\n268.0712\n\n\n49\n5\n62118545\n62408800\n249\n7630\n2990\n6223445\n4654781\n82294.3472\n55315.312\n0\n45441.38\n23.28553\n235.8422\n\n\n79\n6\n153096650\n153714800\n383\n4110\n14530\n13023363\n9126662\n219533.7647\n126019.528\n0\n43652.15\n13.33987\n254.2933\n\n\n93\n7\n1258524\n1277600\n34\n22990\n13390\n141322\n99230\n2471.1608\n1493.027\n0\n29401.03\n11.58742\n200.6049\n\n\n101\n8\n17526161\n17739600\n129\n1450\n14410\n517573\n397160\n6548.2361\n2715.915\n0\n32069.33\n27.12384\n260.0029\n\n\n113\n9\n23251611\n23413600\n151\n15850\n6210\n1705366\n1193239\n34838.5227\n19189.206\n0\n42169.49\n25.58756\n233.4567\n\n\n115\n10\n1981966\n2008400\n39\n1210\n13970\n66117\n50832\n683.4222\n229.551\n0\n16211.83\n15.73365\n239.5789\n\n\n127\n11\n24433818\n24488400\n151\n1970\n19310\n1130352\n896409\n15474.3118\n8279.242\n0\n51011.59\n13.86956\n257.5287\n\n\n128\n12\n3461822\n3543600\n60\n6130\n6090\n520249\n365378\n7815.2903\n4422.803\n0\n19316.17\n18.26541\n228.5157\n\n\n155\n13\n42209881\n42216000\n242\n530\n14930\n3168223\n2320287\n51250.5543\n23932.379\n0\n38331.30\n24.37498\n207.2945\n\n\n170\n14\n30183070\n30241600\n158\n5810\n20370\n1348460\n1133645\n19465.7227\n11652.611\n0\n55874.93\n15.20795\n216.0514\n\n\n186\n15\n3774943\n3904400\n56\n4230\n7330\n280457\n190965\n5742.5958\n2823.583\n0\n36889.62\n16.33519\n263.5800\n\n\n186\n16\n14987103\n15212000\n109\n4130\n13010\n1636544\n1228222\n23955.1826\n9779.148\n0\n24929.67\n29.18820\n191.5560\n\n\n192\n17\n6080132\n6218400\n75\n19730\n3030\n556809\n391779\n11443.7747\n5326.691\n0\n29748.50\n12.43170\n240.7054\n\n\n196\n18\n82774479\n82817600\n279\n8770\n5230\n6073521\n4301367\n126098.1813\n62908.374\n0\n35699.13\n13.31725\n183.1845\n\n\n205\n19\n42031808\n42087200\n211\n7830\n22150\n1186354\n971450\n18140.2053\n8789.391\n0\n54178.54\n24.14464\n190.5515\n\n\n206\n20\n4759821\n4852800\n72\n14530\n14770\n292863\n223986\n5391.1960\n2530.305\n0\n40919.96\n22.24638\n188.9378\n\n\n209\n21\n27161911\n27330000\n161\n10550\n7650\n2228298\n1700506\n24846.2545\n11125.712\n0\n22243.74\n11.80762\n219.2560\n\n\n229\n22\n86507214\n86949600\n319\n1650\n7350\n8545906\n6381659\n114956.2688\n54858.865\n0\n35720.83\n24.34829\n214.7623\n\n\n255\n23\n6448735\n6564000\n73\n21630\n10610\n407364\n325927\n6143.1676\n2588.093\n0\n38903.49\n11.11992\n232.8224\n\n\n273\n24\n74646095\n74958000\n259\n6330\n5730\n9639587\n7044859\n129629.1524\n70688.719\n0\n29775.69\n11.04457\n205.9398\n\n\n288\n25\n12147746\n12311200\n111\n14110\n4930\n691252\n496647\n14124.9318\n5887.714\n0\n42145.70\n17.91752\n257.8751\n\n\n290\n26\n61986520\n62263200\n235\n6130\n7250\n13305606\n10319713\n92403.2798\n47632.022\n0\n16508.43\n27.38842\n235.8599\n\n\n291\n27\n6288371\n6466800\n81\n21630\n7530\n417439\n322173\n6507.2185\n2719.114\n0\n40083.61\n25.11454\n264.0305\n\n\n\n\n\nThere’s two ways to represent fire severity using this output: the proportion of trees killed within each fire, and the proportion of basal area killed. Those two metrics are distinct in slight yet important ways - a fire might kill all trees in a young stand but if the trees themselves were small, the impact on basal area won’t be terribly large. Or, a fire might kill only the largest/oldest individuals in a stand, thus impacting carbon greatly in a way that wouldn’t show up using just proportion of trees killed. Here, since we’re interested in how forests are regenerating, I’ll focus on instances where fires killed all trees, but I’ll show both for the sake of it.\n\n# drop the fire years where there was no burn\n  fire &lt;- fire[fire$area_m2 &gt; 0,] # no fire years with no burn\n  length(unique(fire$fireId)) # how many fires occurred across the simulation?\n\n[1] 27\n\n\n\n  fire &lt;- fire %&gt;% \n    mutate( # how many trees were killed?\n              prop.dens.killed = n_trees_died / n_trees, \n            # what basal area was killed?\n              prop.ba.killed = basalArea_died / basalArea_total) \n      \n      fire$prop.ba.killed[fire$basalArea_total == 0] &lt;- 0 # set to 0\n      fire$prop.dens.killed[fire$n_trees == 0] &lt;- 0\n\nHowever, there’s one challenge with this. Here’s the percent of stems killed across fires:\n\n\n\n\n\n\n\n\nFigure 1: Percent of stems killed across fires\n\n\n\n\n\nAnd here’s the percent basal area killed across all fires:\n\n\n\n\n\n\n\n\nFigure 2: Percent basal area killed across fires\n\n\n\n\n\nYou’ll notice neither metric shows values that are completely equal to 100%. At first this seems like a problem, right?1\n1 none of our fires were stand-replacing??This is an important nuance of the iLand fire output - n_trees_killed and basalArea_died are aggregated across the entire fire. Cells within the fire may have experienced full canopy mortality, but since we’re working with averages, it’ll be very very rare (if not impossible) for a stand to have 100% of stems killed across the entire fire."
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#saving-additional-fire-output",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#saving-additional-fire-output",
    "title": "Benchmarking Reburning in iLand",
    "section": "Saving additional fire output",
    "text": "Saving additional fire output\nI’ll need more detail, and thankfully there’s a fun way to solve this - by adding a javascript file to the scripts folder, you can add code that tells iLand to save raster files of the perimeter of each fire with additional information. Some options of things to turn on include:\n\ncrownKill: fraction of the crown killed within a burned resource unit (see wildfire ).\ndiedStemsFrac: fraction of killed trees within a burned resource unit\ndiedBasalArea: basal area (sum over resource units) of burnt trees.\nKBDI: Keetch Byram Drought Index (see wildfire ).\nbaseIgnition: base probability of an annual fire ignition event for a cell on RU level (depending on fire-return-interval and average fire size)\nfuel: burned fuel (forest floor + dwd) kg/ha\ncombustibleFuel: “available combustible fuel (current KBDI, forest floor + dwd) kg/ha\nnFire: cumulative count of fire events on a resource unit2\nlastFireYear: simulation year of the last fire event on a RU\n\n2 Breaking the forth wall: discovered this output while putting together this quarto document. In future runs, I’ll turn this on and avoid some of the steps described later in the document to filter out reburns3 Note that this is trees killed within burned resource units, not saplings. It still works for our purposes for a few reasons:\n\nThe likelihood that saplings survive in a burned resource unit where all trees are killed seems low (but I can go ahead and check later on)\nSince I’m interested in height-growth relationships, I’ll be filtering out saplings with ages older than the time since fire for the resource unit, so I should catch any that slip through (again, even if they do)\n\nFor this analysis, I’ll stick to diedStemsFrac - the number of trees killed within a resource unit3. First, you need to add a function into your iLand model to tell it to save the extra output.\nThe code to do so is the following:\n\nfunction afterFireProcessing() {\n   var praefix = Globals.year;\n   var pid= Fire.id;\n   // save the form of the fire in ESRI raster format\n   // save a file for each fire\n   Fire.grid(\"diedStemsFrac\").save('output/dead/dead_'+ pid +'.txt')\n}\n\nAdd this in to a javascript file within the Scripts folder in your iLand folder ecosystem, and enable &lt;management&gt; under &lt;/model&gt; in your project file. Now, if you set up a “dead” folder in your output, a raster of values of stems killed will save after each fire.4\n4 To track other items from the list of variables above, call a new Fire.grid() within the afterFireProcessing function and give it a unique save destinationIn order to filter our sapling output by the cells that experienced canopy-replacing fire, I can filter not only by the rasters (the footprint of the fire), but by the value of diedStemsFraction variable within each raster pixel (which represent resource units in the iLand landscape).\nThe function rast() from the terra package (Hijmans 2023) creates a SpatRaster object, a object type in R that can represent multi-layer or multi-variable raster data. Here, the object fire_maps is a three-dimensional raster - the first two dimensions are the x and y axis of our iLand landscape and the third dimension is 27 layers of fire perimeters (one for each fire within the simulation). Each pixel within that raster represents an individual resource unit from the iLand landscape and contains a value from 0 -1, representing diedStemsFrac.\n\nHijmans, Robert J. 2023. “Terra: Spatial Data Analysis.” https://CRAN.R-project.org/package=terra.\n\nfire_maps \n\nclass       : SpatRaster \ndimensions  : 239, 255, 27  (nrow, ncol, nlyr)\nresolution  : 100, 100  (x, y)\nextent      : 462504.2, 488004.2, 7215242, 7239142  (xmin, xmax, ymin, ymax)\ncoord. ref. :  \nsource      : fire_maps.tif \nnames       : dead_1, dead_10, dead_11, dead_12, dead_13, dead_14, ... \nmin values  :      0,       0,       0,       0,       0,       0, ... \nmax values  :      1,       1,       1,       1,       1,       1, ... \n\nnlyr(fire_maps) # 27 layers, one for each fire\n\n[1] 27\n\nknitr::kable(head(values(fire_maps)))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndead_1\ndead_10\ndead_11\ndead_12\ndead_13\ndead_14\ndead_15\ndead_16\ndead_17\ndead_18\ndead_19\ndead_2\ndead_20\ndead_21\ndead_22\ndead_23\ndead_24\ndead_25\ndead_26\ndead_27\ndead_3\ndead_4\ndead_5\ndead_6\ndead_7\ndead_8\ndead_9\n\n\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\n\n\n\nI can call on each of those 27 layers to examine the fire perimeters one by one. For example, this is the fire perimeter from the first fire in the simulation:\n\n\n\n\n\n\n\n\nFigure 3: Fire Perimeter of first fire in spin-up simulation. The color gradient represents diedStemsFrac as a value from 0 to 1.\n\n\n\n\n\nI’ll use these rasters to determine which resource units experienced stand-replacing fire5, and use those resource unit IDs to filter the sapling and tree data.\n5 Which I can now define more specifically as diedStemFrac = 1\n\n\n\n\n\nNote\n\n\n\nAn aside: this run is a spin-up simulation - I ran iLand, initializing forests from an empty landscape6 in year 0, and simulated forest growth and fire over 300 years. This seems to be the sweet spot for simulation runs - at year 300, it’s a landscape full of a mix of mature, regenerating and recently burned stands, just as we’d observe in real life. Since fires that occur early in the spin-up inherently burn young stands, it’s not terribly representative of the relationship between height and age in regrowth that I want to eventually compare to the herbivore-impacted relationship. So, I’ll filter to just the last 100 years of the simulation.\n\n\n6 An aside to the aside (meta!!) - it’s an empty landscape in the sense that there are no trees in year 0, but I do initialize using a soil organic layer that varies heterogeneously across the landscape. This isn’t just to represent real life for real life’s sake - initializing from truly empty (truly bare ground) causes totally different patterns of forests. As has been shown in decades of work in Alaska by Jill Johnstone and others, soil organic layer filters forest community composition in really critical ways, allowing spruce to outcompete species like birch and aspen which can’t persist in thick soil or moss layers for as long.\n\n\n\n\n\nNote\n\n\n\nQuestion: what determines the initial heterogeneity in the SOL when initiating from bare ground using the permafrost module? (technically it’s the moss layer heterogeneity in year 0 that introduces the SOL heterogeneity in year 1 - where do those initial values come from?)\n\n\n\n  # filtering to last 100 years of fire\n  fire100 &lt;- fire %&gt;%\n    filter(year &gt;200)\n  length(unique(fire100$fireId)) # How many fires in the last 100 years?\n\n[1] 9\n\n  # dropping layers from fire raster\n  fire_maps100 &lt;- subset(fire_maps, \n                         paste0(\"dead_\", fire100$fireId))"
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#determining-overlap-between-rasters-using-the-terra-package",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#determining-overlap-between-rasters-using-the-terra-package",
    "title": "Benchmarking Reburning in iLand",
    "section": "Determining overlap between rasters using the terra package",
    "text": "Determining overlap between rasters using the terra package\nSince for this analysis I’m interested in the relationship between height and age, I’ll need to filter out stands that burned shortly8 after preceding fires - a disturbance pattern which would definitely impact age-height relationships. I’ll need to figure out where the overlaps actually occur, so I can exclude the corresponding resource units from the sapling and tree data later. I’ll do this process in two ways: 1) by looking at the physical overlap between the entirety of the fire perimeters, 2) by looking only at the overlap between high severity fires.\n8 Typically, “short-interval” fire in the boreal is defined as 50 years or less between fires (Buma et al. 2022). Since I’m looking across a window of 100 years, I’m assuming everything that reburns in that 100 years is “short-interval” - I haven’t looked to see if there’s resource units that burn in year 1 and reburn in year 99, and maybe I’ll do that down the line, but right now I don’t want to bother.\nBuma, B., K. Hayes, S. Weiss, and M. Lucash. 2022. “Short-Interval Fires Increasing in the Alaskan Boreal Forest as Fire Self-Regulation Decays Across Forest Types.” Scientific Reports 12 (1): 4901. https://doi.org/10.1038/s41598-022-08912-8.\nThe intersect() function in terra is useful for checking overlap, but only takes two rasters at a time:\n\noverlap &lt;- terra::intersect(fire_mapsNA[[1]],\n                            fire_mapsNA[[2]])\n\nplot(overlap)\n\n\n\n\n\n\n\nFigure 5: Overlap between first two fires\n\n\n\n\n\nTurns out, the best way I’ve found to quickly check which rasters overlap actually involves terra’s mosaic() function:\n\n# split all the layers into a list\nmapList &lt;- terra::split(fire_mapsNA, 1:nlyr(fire_mapsNA))\n\n# turn list into SpatRaster Collection\nmapSPC &lt;- terra::sprc(mapList) \n\n# merge values across layers\nreburn &lt;- terra::mosaic(mapSPC, fun = \"sum\") # can apply a number of functions (mean, etc)\nplot(reburn)\n\n\n\n\n\n\n\nFigure 6: Using mosaic() to collapse layers\n\n\n\n\n\nYay!! Okay!! Now, if I set all the values of the layers to 1, I’ll end up with a raster of number of fires.\n\nperim &lt;- fire_maps100 &gt; 0 # exclude unburned values\n\n# setting all values to 1 regardless of diedStemFrac\nperim &lt;- subst(perim, TRUE, 1, others = NA) # everything else NA\n\n\n# split all the layers into a list\nperimList &lt;- terra::split(perim, 1:nlyr(perim))\n\n# turn list into SpatRaster Collection\nperimSPC &lt;- terra::sprc(perimList) \n\n# merge values across layers\nnFire &lt;- terra::mosaic(perimSPC, fun = \"sum\")\nplot(nFire)\n\n\n\n\n\n\n\nFigure 7: Reburn history\n\n\n\n\n\nyay!! Now I can filter by the value of nFire to get the specific resource units that burned and eventually exclude them for the analysis."
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#iland-reburn-trends",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#iland-reburn-trends",
    "title": "Benchmarking Reburning in iLand",
    "section": "iLand Reburn trends",
    "text": "iLand Reburn trends\nA few more exploratory tangential questions since we’re here:\n\nHow much of the landscape burned once?\n\nnfire1 &lt;- subst(nFire, 1, 1, others = NA)\nplot(nfire1)\n\n\n\n\n\n\n\nFigure 8: 1x fire perimeters\n\n\n\n\n\n\n# what RID burned once?\nnfire1rid &lt;- as.data.frame(mask(env.grid, nfire1))\n\n# how many unique resource units are there?\ndomain &lt;- ncell(env.grid) # dimensions are 239 by 255 \n\n# how many resource units burned once?\nlength(unique(nfire1rid$env.grid)) \n\n[1] 13300\n\n# so, what %?\nround((length(unique(nfire1rid$env.grid)) / domain) *100, 1)\n\n[1] 21.8\n\n\n\n\nHow much burned twice?\n\nnfire2 &lt;- subst(nFire, 2, 1, others = NA)\nplot(nfire2)\n\n\n\n\n\n\n\nFigure 9: 2x fire perimeters\n\n\n\n\n\n\n# what RID burned twice?\nnfire2rid &lt;- as.data.frame(mask(env.grid, nfire2))\n\n# so, what %?\nround((length(unique(nfire2rid$env.grid)) / domain) *100, 1)\n\n[1] 3.8\n\n\n\n\nHow much burned three times?\n\nnfire3 &lt;- subst(nFire, 3, 1, others = NA)\nplot(nfire3)\n\n\n\n\n\n\n\nFigure 10: 3x fire perimeters\n\n\n\n\n\n\n# what RID burned thrice?\nnfire3rid &lt;- as.data.frame(mask(env.grid, nfire3))\n\n# so, what %?\nround((length(unique(nfire3rid$env.grid)) / domain) *100, 1)\n\n[1] 8.2\n\n\n\n\nHow does reburning in iLand compare to reburning in MTBS?\nHow does that compare to what we see in the real life frequency of reburning? As part of my work with reburns during my PhD, I worked on a paper with Brian Buma, Melissa Lucash and Shelby Weiss where we looked at trends in reburning across Alaska using the Monitoring Trends in Burn Severity database (MTBS) (Buma et al. 2022).\nA few important differences to cover up front:\n\nMTBS data for Alaska covers 1984 to 2016 - so, the data captures a 32 year window instead of a 100 year one.\nWe used a threshold of 2 to categorize MTBS maps of burn severity into “burned” and “unburned” classifications. I don’t remember if we tested the sensitivity of our analysis to that threshold - I’m super curious how those percentages would change if we filtered to just the cells marked as high severity by MTBS.\nI don’t remember off the top of my head how we dealt with Ecoregion / what Ecoregion CPCRW would fall into.\n\n\n\n\n\n\n\n\n\nEcoregion\n% Burned Total\n% Burned Once\n% Burned Twice\n% Burned Thrice\n\n\n\n\nInterior forested lowlands/uplands\n18.7\n95.5\n4.3\n0.10\n\n\nYukon Flats\n29.5\n95.5\n4.4\n0.10\n\n\nInterior bottomlands\n21.3\n96.4\n3.6\n0.05\n\n\nInterior highlands\n17.3\n97.7\n2.2\n0.04\n\n\nOgilvie Mountains\n29.2\n99.0\n1.0\n0.00\n\n\nOverall\n19.8\n96.2\n3.7\n0.10\n\n\n\n\n\n\n\n\nTable 1: Reburn Frequency of MTBS data from 1984 - 2016, across ecoregion (Buma et al. \n\n\n\n\nAgain, the reburn frequency in the 100 year interval of iLand is the following:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEcoregion\n% Burned Total\n% Burned Once\n% Burned Twice\n% Burned Thrice\n\n\n\n\niLand\n33.8\n21.8\n3.8\n8.2\n\n\n\n\n\n\nTable 2: iLand Reburn Frequency\n\n\n\n\nSo, lower percentages than in the MTBS data.\nAn obviously incomplete spitball list of reasons reburning could be lower in iLand:\n\niLand is super stochastic? - runs vary from simulation to simulation. I can try replicating this simulation a few hundred times and averaging fire frequency across them all to see if the distribution of reburning becomes more similar to what we observe in MTBS\nUncertainty in MTBS?\nMechanisms that drive fire in iLand underestimate reburning?"
  },
  {
    "objectID": "posts/iLand_series/Draft_iLandFireOutput/index.html#what-about-fire-severity",
    "href": "posts/iLand_series/Draft_iLandFireOutput/index.html#what-about-fire-severity",
    "title": "Benchmarking Reburning in iLand",
    "section": "What about fire severity?",
    "text": "What about fire severity?\nNow, I can introduce one more layer: in theory, we9 often expect reburns (or fires that burn into existing fire perimeters) to occur at diminishing severity. Depending on the window between fires, fuel availability may limit combustion in reburns. Based on that logic, are there overlaps between stands that burned at high severity?\n9 we, the royal fire ecologists\n# filter to just stands with high severity\n  # cells with diedStemsFrac = 1\n  fire_mapsHS &lt;- subst(fire_maps100, 1, 1, others = NA)\n  \n  plot(fire_mapsHS[[1]])\n  plot(fire_mapsHS[[2]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[3]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[4]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[5]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[6]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[7]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[8]], add = TRUE, legend = FALSE)\n  plot(fire_mapsHS[[9]], add = TRUE, legend = FALSE)\n\n\n\n\n\n\n\nFigure 11: High severity fires\n\n\n\n\n\nObviously less area there. Is there any overlap?\n\n# split all the layers into a list\nhsList &lt;- terra::split(fire_mapsHS, 1:nlyr(fire_mapsHS))\n\n# turn list into SpatRaster Collection\nhsSPC &lt;- terra::sprc(hsList) \n\n# merge values across layers\nnFireHS &lt;- terra::mosaic(hsSPC, fun = \"sum\")\nplot(nFireHS)\n\n\n\n\n\n\n\nFigure 12: Times each resource unit has burned at high severity\n\n\n\n\n\nOkay. Pretty sparse, but technically there’s still resource units that burned completely both times.\n\nnfireHS2 &lt;- subst(nFireHS, 2, 1, others = NA)\nplot(nfireHS2)\n\n\n\n\n\n\n\nFigure 13: Resource Units that burned twice, each time high severity\n\n\n\n\n\n\n# what RID burned twice at HS?\nnfireHS2rid &lt;- as.data.frame(mask(env.grid, nfireHS2))\n\n# how many resource units?\nlength(unique(nfireHS2rid$env.grid))\n\n[1] 8\n\n# so, what %?\n(length(unique(nfireHS2rid$env.grid)) / domain) *100\n\n[1] 0.01312659\n\n\nI’m curious about the years that burned twice at high severity. What’s the interval between them?\nTo get back to years, I’ll have to use the list of RIDs to find fireID in the fire_maps object, and then use fireID to look in the original fire output from iLand. Essentially, retracing our steps. I’ll start by converting the object containing resource units that burned twice at high severity (nfireHS2) back to a polygon, so I can use terra’s extract() function to pull information from fire_maps.\n\nnfireHS2poly &lt;- terra::as.polygons(nfireHS2)\nplot(nfireHS2poly)\n\n\n\n\n\n\n\nfire_mapsHS2 &lt;- terra::extract(fire_maps100, nfireHS2poly)\nhead(fire_mapsHS2)\n\n  ID dead_19 dead_20 dead_21   dead_22 dead_23 dead_24 dead_25 dead_26 dead_27\n1  1       0       0       0 0.9005525       0       1       0       1       0\n2  1       0       0       0 0.8333333       0       1       0       1       0\n3  1       0       0       0 0.8809524       0       1       0       1       0\n4  1       0       0       0 0.9444444       0       1       0       1       0\n5  1       0       0       0 0.8918919       0       1       0       1       0\n6  1       0       0       0 0.9545454       0       1       0       1       0\n\n# drop ID column\nfire_mapsHS2 &lt;- fire_mapsHS2 %&gt;%\n  select(!ID) %&gt;%\n  select(where(~ any(. != 0)))\n\nknitr::kable(fire_mapsHS2)\n\n\n\n\ndead_22\ndead_24\ndead_26\n\n\n\n\n0.9005525\n1\n1\n\n\n0.8333333\n1\n1\n\n\n0.8809524\n1\n1\n\n\n0.9444444\n1\n1\n\n\n0.8918919\n1\n1\n\n\n0.9545454\n1\n1\n\n\n0.0000000\n1\n1\n\n\n0.0000000\n1\n1\n\n\n\n\n# 18 reburned 19\n# 18 reburned 20\n# 23 reburned 27\n# 25 reburned 27\n\nfireHS2 &lt;-  fire %&gt;%\n  select(c(year, fireId)) %&gt;%\n  filter(fireId %in% as.numeric(str_sub(colnames(fire_mapsHS2), -2))) \n\nfireHS2\n\n# A tibble: 3 × 2\n   year fireId\n  &lt;int&gt;  &lt;int&gt;\n1   229     22\n2   273     24\n3   290     26\n\n\nNow, I want to use the row id numbers from the fire_mapsHS object to filter out rows in the sapling and stand output that burned at high severity. The following code loops through each of the fire maps, extracting the resource unit ID numbers, the fire ID and the fire year (which come from the default fire output) and compiling into a dataframe, fireID. What fraction of the landscape burned at high severity? (ie, how many resource units?)\n\nfireID &lt;- data.frame()\n\nfor (i in 1:nrow(fire100)) {\n  \n  # Skip fires that burned nothing\n  if (fire100$area_m2[i] &gt; 0) {\n  \n    mask &lt;- fire_mapsHS[[paste0(\"dead_\", fire100$fireId[i])]]\n    \n    # Use the mask to extract the rids for burned grids\n    burned_rids &lt;- as.data.frame(mask(env.grid, mask))\n    burned_rids= burned_rids%&gt;%filter(!is.na(env.grid))\n    burned_rids$year=fire100$year[i]\n    burned_rids$fireID = fire100$fireId[i]\n  }\n  \n  fireID = rbind(fireID, burned_rids)\n}\n\nfireID = fireID %&gt;% rename(\"rid\" = env.grid, \"fire.year\" = year)\n\n\n# how many unique resource units are there?\ndomain &lt;- ncell(env.grid) # dimensions are 239 by 255 \n\n# how many resource units burned at HS?\nlength(unique(fireID$rid)) \n\n[1] 622\n\n# so, what %?\n(length(unique(fireID$rid)) / domain) *100\n\n[1] 1.020592\n\n\nSo, only about 1% of the landscape burned at high severity across the 100 year simulation window. (Though, technically that would be an underestimate since it doesn’t take into account the resource units that reburned)."
  },
  {
    "objectID": "posts/Post_hemispheR/index.html",
    "href": "posts/Post_hemispheR/index.html",
    "title": "Calculating light availability from fisheye photos",
    "section": "",
    "text": "As part of my PhD trying to capture the impact of reburning on boreal forests, I measured understory plant communities in my study sites. I don’t have a background in community ecology, but have been working with a labmate and friend to understand the impact of reburning on the communities we measured. As part of that effort, I’ve been curious about light availability - the reburned stands I worked in as a PhD became more and more open with more reburning, and presumably that means more light would reach the understory.\nIn order to capture the light coming through the canopy in these sites, there was a moment in our sampling protocol where we set up a camera with a fisheye lens on a flat surface in the middle of the plot, laid down on our backs trying to hid in the vegetation around us, and looked up at the sky.1\nTo convert pictures like these into measurements of the light coming through the canopy, I’ve been exploring how to use the hemispheR package in R."
  },
  {
    "objectID": "posts/Post_hemispheR/index.html#session-info",
    "href": "posts/Post_hemispheR/index.html#session-info",
    "title": "Calculating light availability from fisheye photos",
    "section": "Session Info",
    "text": "Session Info\n\nsessionInfo()\n\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sonoma 14.0\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: America/Chicago\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] cowplot_1.1.3    lubridate_1.9.3  forcats_1.0.0    stringr_1.5.1   \n [5] dplyr_1.1.4      purrr_1.0.2      readr_2.1.5      tidyr_1.3.1     \n [9] tibble_3.2.1     ggplot2_3.5.1    tidyverse_2.0.0  kableExtra_1.4.0\n[13] hemispheR_1.1.4  terra_1.7-78    \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.5         xfun_0.45            raster_3.6-26       \n [4] htmlwidgets_1.6.4    lattice_0.22-6       tzdb_0.4.0          \n [7] vctrs_0.6.5          tools_4.4.1          generics_0.1.3      \n[10] proxy_0.4-27         fansi_1.0.6          pkgconfig_2.0.3     \n[13] Matrix_1.7-0         KernSmooth_2.23-24   checkmate_2.3.2     \n[16] lifecycle_1.0.4      farver_2.1.2         compiler_4.4.1      \n[19] munsell_0.5.1        ijtiff_2.3.4         dismo_1.3-14        \n[22] codetools_0.2-20     htmltools_0.5.8.1    class_7.3-22        \n[25] yaml_2.3.8           pillar_1.9.0         classInt_0.4-10     \n[28] nlme_3.1-165         tidyselect_1.2.1     digest_0.6.36       \n[31] stringi_1.8.4        sf_1.0-16            splines_4.4.1       \n[34] labeling_0.4.3       fastmap_1.2.0        grid_4.4.1          \n[37] colorspace_2.1-0     cli_3.6.3            magrittr_2.0.3      \n[40] utf8_1.2.4           e1071_1.7-14         withr_3.0.0         \n[43] autothresholdr_1.4.2 backports_1.5.0      scales_1.3.0        \n[46] sp_2.1-4             timechange_0.3.0     rmarkdown_2.27      \n[49] hms_1.1.3            evaluate_0.24.0      knitr_1.47          \n[52] viridisLite_0.4.2    mgcv_1.9-1           rlang_1.1.4         \n[55] Rcpp_1.0.12          zeallot_0.1.0        glue_1.7.0          \n[58] DBI_1.2.3            xml2_1.3.6           strex_2.0.0         \n[61] svglite_2.1.3        rstudioapi_0.16.0    jsonlite_1.8.8      \n[64] R6_2.5.1             systemfonts_1.1.0    units_0.8-5"
  },
  {
    "objectID": "param_landing.html",
    "href": "param_landing.html",
    "title": "Model Parameterization",
    "section": "",
    "text": "How much does a moose weigh?\n\n\nThe rabbit holes of model parameterization\n\n\n\n\n\n\n\n\nSep 23, 2024\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Me",
    "section": "",
    "text": "I’m a climate change ecologist and currently a NSF Postdoctoral Fellow in the Forest Futures Lab at the Cary Institute of Ecosystem Studies. I work in the intersection of paleoecology, landscape ecology and disturbance ecology, using field, lab, and modeling tools to study how ecosystems change over space and time.\n\n\n\n\n\nComic by the lovely and incomparable Sophie Lucido Johnson and Sammi Skolmoski\n\n\nI got into ecology through the past - I worked as an undergraduate field and lab assistant in Jack William’s paleoecology lab at the University of Wisconsin Madison, coring lake sediments and counting charcoal samples, which sparked an interest in fire.\nAfter graduating from UW-Madison, I moved to Eugene, Oregon to work with Dan Gavin at the University of Oregon. Working in Northern California, I sampled soil and charcoal in old growth coast redwood forests, trying to understand how frequent prehistoric fire was in those forests, and the role it played in soil carbon storage.\nAfter the redwoods, I moved north and forward in time to Alaskan boreal forests, completing a PhD in Integrative and Systems Biology at the University of Colorado Denver. Working with Brian Buma (now at the Environmental Defense Fund), I picked up training in landscape, disturbance and fire ecology, combining field measurements of forest composition, structure and carbon with landscape and fire behavior models. I worked in burned black spruce forests in the Interior of Alaska, measuring how frequent fire (reburning) changes forest communities, forest carbon storage and future patterns of fire.\nWhile setting up my PhD field sites, I stumbled down a herbivory rabbit hole after noticing intense browsing from moose and hare in my reburned plots. I put together a proposal to work with Winslow Hansen and Jill Johnstone to use process-based landscape modeling to explore whether herbivores like moose and hare might interact with fire to shape forest composition and carbon at a landscape scale.\nOutside of research, I collect records and houseplants and I grew up in the Midwest so I have strong opinions about cheese and the packers. One of my favorite places in the world (and the reason I got into science) is the Milwaukee Public Museum.\nMy teaching philosophy is here, and my CV is here."
  }
]